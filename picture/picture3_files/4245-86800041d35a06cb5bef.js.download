(self.webpackChunk_unisporkal_search_bar=self.webpackChunk_unisporkal_search_bar||[]).push([[4245],{6441:function(e,t,a){var s={"./getty/cs":[5452,6846],"./getty/cs.yml":[5452,6846],"./getty/de":[1926,9150],"./getty/de.yml":[1926,9150],"./getty/en-gb":[5397,9155],"./getty/en-gb.yml":[5397,9155],"./getty/en-us":[3747,9476],"./getty/en-us.yml":[3747,9476],"./getty/es":[1458,8030],"./getty/es.yml":[1458,8030],"./getty/fi":[1606,5179],"./getty/fi.yml":[1606,5179],"./getty/fr":[6715,8648],"./getty/fr.yml":[6715,8648],"./getty/hu":[7902,5345],"./getty/hu.yml":[7902,5345],"./getty/id":[7981,8545],"./getty/id.yml":[7981,8545],"./getty/it":[4178,5769],"./getty/it.yml":[4178,5769],"./getty/ja":[7740,7143],"./getty/ja.yml":[7740,7143],"./getty/ko":[4834,2885],"./getty/ko.yml":[4834,2885],"./getty/nl":[5959,8505],"./getty/nl.yml":[5959,8505],"./getty/pl":[4949,9320],"./getty/pl.yml":[4949,9320],"./getty/pt-br":[4172,2155],"./getty/pt-br.yml":[4172,2155],"./getty/pt-pt":[8328,2709],"./getty/pt-pt.yml":[8328,2709],"./getty/ro":[1168,812],"./getty/ro.yml":[1168,812],"./getty/ru":[8309,3045],"./getty/ru.yml":[8309,3045],"./getty/sv":[3602,4678],"./getty/sv.yml":[3602,4678],"./getty/th":[7244,8515],"./getty/th.yml":[7244,8515],"./getty/tr":[1795,6641],"./getty/tr.yml":[1795,6641],"./getty/uk":[5719,604],"./getty/uk.yml":[5719,604],"./getty/vi":[9031,7264],"./getty/vi.yml":[9031,7264],"./getty/zh-hk":[1497,3657],"./getty/zh-hk.yml":[1497,3657],"./istock/cs":[1475,8062],"./istock/cs.yml":[1475,8062],"./istock/de":[4518,8115],"./istock/de.yml":[4518,8115],"./istock/en-gb":[4633,4481],"./istock/en-gb.yml":[4633,4481],"./istock/en-us":[4999,9193],"./istock/en-us.yml":[4999,9193],"./istock/es":[6505,8882],"./istock/es.yml":[6505,8882],"./istock/fi":[9394,5911],"./istock/fi.yml":[9394,5911],"./istock/fr":[2546,6196],"./istock/fr.yml":[2546,6196],"./istock/hu":[2279,2493],"./istock/hu.yml":[2279,2493],"./istock/id":[6e3,1879],"./istock/id.yml":[6e3,1879],"./istock/it":[2081,7258],"./istock/it.yml":[2081,7258],"./istock/ja":[1023,1979],"./istock/ja.yml":[1023,1979],"./istock/ko":[5968,20],"./istock/ko.yml":[5968,20],"./istock/nl":[2706,3750],"./istock/nl.yml":[2706,3750],"./istock/pl":[6868,1024],"./istock/pl.yml":[6868,1024],"./istock/pt-br":[7890,7361],"./istock/pt-br.yml":[7890,7361],"./istock/pt-pt":[6477,7152],"./istock/pt-pt.yml":[6477,7152],"./istock/ro":[6519,6383],"./istock/ro.yml":[6519,6383],"./istock/ru":[7049,9783],"./istock/ru.yml":[7049,9783],"./istock/sv":[4958,4792],"./istock/sv.yml":[4958,4792],"./istock/th":[8089,5007],"./istock/th.yml":[8089,5007],"./istock/tr":[1056,4236],"./istock/tr.yml":[1056,4236],"./istock/uk":[4884,4349],"./istock/uk.yml":[4884,4349],"./istock/vi":[3887,7758],"./istock/vi.yml":[3887,7758],"./istock/zh-hk":[9733,7228],"./istock/zh-hk.yml":[9733,7228]};function r(e){if(!a.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,23)}))}r.keys=function(){return Object.keys(s)},r.id=6441,e.exports=r},423:function(e,t,a){var s={"./gettyTheme/index.js":7565,"./istockTheme/index.js":9929};function r(e){return Promise.resolve().then((function(){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var r=s[e];return a(r)}))}r.keys=function(){return Object.keys(s)},r.id=423,e.exports=r},3188:function(e,t,a){var s={"./getty":6852,"./getty.js":6852,"./istock":2693,"./istock.js":2693};function r(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id=3188},6083:function(e,t,a){var s={"./getty":2320,"./getty.js":2320,"./istock":8974,"./istock.js":8974};function r(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id=6083},8942:function(e,t,a){"use strict";var s=a(2747),r=a.n(s);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n.apply(this,arguments)}t.Z=({styles:e={},...t})=>r().createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:"8.233",height:"13.861",viewBox:"0 -4.861 8.233 13.861"},t),r().createElement("path",{d:"M8.233 2.018L1.251 9 0 7.645l5.627-5.627L0-3.61l1.251-1.25 6.982 6.878z"}))},8137:function(e,t,a){"use strict";var s=a(2747),r=a.n(s);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n.apply(this,arguments)}t.Z=({styles:e={},...t})=>r().createElement("svg",n({width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("path",{d:"M100 12.501L37.499 74.998 0 37.498l12.501-12.5L37.5 50l50-50 12.5 12.501z",fill:"#02a388"}))},2696:function(e,t,a){"use strict";a.d(t,{d4:function(){return L},g1:function(){return W},aT:function(){return p},rd:function(){return H}});var s=a(2747),r=a.n(s),n=a(90),i=a(4735),c=a(5699),o=a(7263),l={container:"mGx28VM0NwDRPHr5poC1",holder:"l5s0JYPrIeyoj3KRI24p",overlay:"Y8SIx4WWF8KSKFDHMU2V",VerticalRule:"xbnVyfXOe_9tXHH3bwL8"},h=a(5893);const d=()=>(0,h.jsx)("span",{className:l.VerticalRule}),u=e=>{window&&(window.tracking_data.ecommerce_test_variation?window.tracking_data.ecommerce_test_variation.split("|").contains(e)||(window.tracking_data.ecommerce_test_variation=window.tracking_data.ecommerce_test_variation.concat(`|${e}`)):window.tracking_data.ecommerce_test_variation=e)},m={searchbyimage:"search_box.search_bar_similar_images_placeholder",searchbyasset:"search_box.search_bar_similar_images_placeholder",morelikethis:"search_box.search_bar_similar_images_placeholder",image:"general_search_hint_with_video","image.creative":"general_search_hint_with_video","image.creative.photography":"general_search_hint_with_video","image.creative.illustration":"general_search_hint_with_video","image.creative.illustration.eps":"general_search_hint_with_video",film:"general_search_hint_with_video","film.creative":"general_search_hint_with_video",imagefilm:"general_search_hint_with_video"};var p=()=>{const e=(0,s.useRef)(null);(0,c.pN)(e);const t=(0,c.MO)(),a=(0,n.b)(),r=(0,i.aF)(),p=(0,i._P)("MixedGridPhaseTwoTest"),g=t.isSearchBarRefreshOfferTestA(),v=t.isSearchbarRefreshEnabled(),{inTest:_}=r.imageFilmGrid;(0,s.useEffect)((()=>{_&&u(p.isOfferActive("test")?"is_srp_mixed_grid-expA":"is_srp_mixed_grid-control"),!t.isHomepage&&v&&u(g?"is_search_picker-expA":"is_search_picker-Control")}),[]);const y={endpoint:"https://as.gettyservices.com:443/GettyImages.Autocomplete.KeywordService.Service/KeywordService1/Suggestedkeywords",siteLocale:t.locale||a,searchAssetType:t.searchParameters.assettype||"image",searchAssetFamily:t.searchParameters.family||"any"},f=(0,s.useMemo)((()=>g?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(L,{}),(0,h.jsx)(d,{}),(0,h.jsx)(o.Rj,{placeholders:m}),(0,h.jsx)(o.Fz,{})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.Rj,{placeholders:m}),(0,h.jsx)(L,{}),(0,h.jsx)(o.Fz,{})]})),[g]);return(0,h.jsx)(o.E1,{styles:l,children:(0,h.jsxs)("div",{className:l.container,ref:e,children:[(0,h.jsx)("div",{className:l.holder,children:f}),t.options.mobileMediaFilter&&t.inFocus&&(0,h.jsx)("div",{className:l.mediaFilter,children:(0,h.jsx)(H,{})}),(0,h.jsx)(o.J,{options:y})]})})},g={container:"ZOLuUnTeJmoqjsKr8W5g",iconClosed:"qhnQ7fKesvGSqFSm8FVO",iconOpen:"vhok0PCTsBEhM4j_4dnt",containerSearchbarRefresh:"nFtF0okSe26IQgnqIUY_",mainLabel:"sg6j9Q9Pj6xe6MLi0b2A",selectedLabel:"CB7KizFwsOXTLaY_cWsx",labelIcon:"Xl825220kCPhCKcHrAEj",mediaOptions:"RN5x3WbMKZrMgpzSplMw",open:"FfdrvRCiM4cHsBWqVo7U",mediaOptionsSearchbarRefresh:"CxWtQfGufOeOSCJa4izJ",iconCheckmark:"wsvvEI7LQ7ufnTyIgjcq",dropdownLabel:"zLSNc_EXZcupkPOeUgdC",imageFilmGridLabels:"qQqOI4cdh98D5IAK7ERU",imageFilmGridMenuHeight:"Vo6sk60G7GnBN7s5xwBh",selectedIconGroup:"SKRxyh8Wq9bhUFlSQFkA"},v=a(7166),_=a.n(v),y=a(7355),f=a(6905),w=a(8130),S=a(8137),b=a(8942);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},x.apply(this,arguments)}var j=({styles:e={},...t})=>r().createElement("svg",x({width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{clipPath:"url(#a)",fill:"#0E0F0F"},r().createElement("path",{d:"M8.347 5.889c-1.91 0-3.463 1.576-3.463 3.515 0 1.938 1.553 3.514 3.463 3.514 1.909 0 3.463-1.576 3.463-3.514 0-1.939-1.554-3.515-3.463-3.515zm0 5.53c-1.082 0-1.963-.904-1.963-2.015 0-1.112.88-2.015 1.963-2.015 1.082 0 1.963.903 1.963 2.015 0 1.11-.881 2.014-1.963 2.014zM3.95 5.427a.822.822 0 00-.814.83c0 .457.364.829.814.829a.822.822 0 00.813-.83.822.822 0 00-.813-.83z"}),r().createElement("path",{d:"M14.857 2.188H12.07L11.334.69a1.261 1.261 0 00-1.139-.713H6.498a1.26 1.26 0 00-1.139.712l-.736 1.5H1.835A1.848 1.848 0 000 4.043V14.86c0 1.023.823 1.856 1.835 1.856h13.022a1.848 1.848 0 001.835-1.856V4.044a1.848 1.848 0 00-1.835-1.856zm.335 12.672c0 .193-.153.356-.335.356H1.835c-.182 0-.335-.163-.335-.356V4.044c0-.192.153-.356.335-.356H4.77a1.26 1.26 0 001.137-.712l.737-1.5h3.405l.735 1.5c.216.439.652.712 1.14.712h2.933c.182 0 .335.164.335.356V14.86z"})),r().createElement("defs",null,r().createElement("clipPath",{id:"a"},r().createElement("path",{fill:"#fff",d:"M0 0h16.692v16.692H0z"}))));function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},E.apply(this,arguments)}var k=({styles:e={},...t})=>r().createElement("svg",E({width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{clipPath:"url(#a)",fill:"#010101"},r().createElement("path",{d:"M13.942 0H2.75A2.753 2.753 0 000 2.75v11.193a2.753 2.753 0 002.75 2.75h11.192a2.753 2.753 0 002.75-2.75V2.75A2.753 2.753 0 0013.942 0zM2.75 1.5h11.192c.69 0 1.25.56 1.25 1.25v6.606L12.387 6.55a1.502 1.502 0 00-2.122 0l-4.318 4.317-1.481-1.482c-.58-.58-1.5-.593-2.095-.027l-.871.829V2.75c0-.69.56-1.25 1.25-1.25zm11.192 13.693H2.75c-.69 0-1.25-.56-1.25-1.25v-1.687l1.904-1.81 1.483 1.482c.566.566 1.554.566 2.12 0l4.32-4.317 3.865 3.866v2.466c0 .69-.56 1.25-1.25 1.25z"}),r().createElement("path",{d:"M5.538 7.196a1.761 1.761 0 100-3.523 1.761 1.761 0 000 3.523z"})),r().createElement("defs",null,r().createElement("clipPath",{id:"a"},r().createElement("path",{fill:"#fff",d:"M0 0h16.692v16.692H0z"}))));function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},O.apply(this,arguments)}var A=({styles:e={},...t})=>r().createElement("svg",O({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{clipPath:"url(#a)"},r().createElement("path",{d:"M17.52 7.252L10.712.445c-.593-.592-1.628-.594-2.223 0L5.86 3.075a1.563 1.563 0 00-.442 1.292L2.187 6.108c-.352.19-.617.519-.744.991L.056 16.08a1.483 1.483 0 00.378 1.45c.29.29.681.443 1.042.443.11 0 .218-.015.32-.045l9.156-1.426c.384-.108.713-.371.904-.724l1.74-3.232c.061.007.122.017.183.017a1.57 1.57 0 001.112-.459l2.629-2.629c.296-.297.46-.692.46-1.112 0-.419-.164-.814-.46-1.11zm-6.976 7.8L2.82 16.205l3.109-3.109a2.074 2.074 0 002.31-.428 2.082 2.082 0 000-2.942 2.082 2.082 0 00-2.943 0 2.08 2.08 0 00-.428 2.31l-3.163 3.163L2.91 7.42l3.3-1.775 6.11 6.11-1.775 3.297zm-4.188-4.265a.579.579 0 01.822 0 .581.581 0 11-.822 0zM16.46 8.414l-2.629 2.63a.071.071 0 01-.101 0l-.34-.34-6.13-6.129-.004-.002-.336-.337a.074.074 0 010-.102l2.63-2.628a.072.072 0 01.052-.019c.018 0 .038.006.05.018l6.807 6.808c.023.024.024.077 0 .101z",fill:"#0A0A0A"})),r().createElement("defs",null,r().createElement("clipPath",{id:"a"},r().createElement("path",{fill:"#fff",d:"M0 0h17.98v17.973H0z"}))));function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},C.apply(this,arguments)}var P=({styles:e={},...t})=>r().createElement("svg",C({width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{clipPath:"url(#a)"},r().createElement("path",{d:"M12.842 4.902V2.44A2.443 2.443 0 0010.402 0H2.44A2.443 2.443 0 000 2.44v8.677a2.443 2.443 0 002.44 2.44h3.465c.982 1.867 2.87 3.135 5.033 3.135 3.173 0 5.754-2.722 5.754-6.069 0-2.642-1.611-4.89-3.85-5.72zM2.44 12.057a.941.941 0 01-.94-.94V2.44c0-.518.422-.94.94-.94h7.961a.94.94 0 01.94.94v2.135c-.133-.01-.266-.021-.402-.021-3.173 0-5.754 2.722-5.754 6.069 0 .495.062.973.169 1.434H2.44zm8.498 3.135c-2.345 0-4.253-2.05-4.253-4.569 0-2.52 1.908-4.57 4.253-4.57 2.346 0 4.254 2.05 4.254 4.57 0 2.52-1.908 4.57-4.254 4.57z",fill:"#0E0F0F"})),r().createElement("defs",null,r().createElement("clipPath",{id:"a"},r().createElement("path",{fill:"#fff",d:"M0 0h16.692v16.692H0z"}))));function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},M.apply(this,arguments)}var N=({styles:e={},...t})=>r().createElement("svg",M({width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{clipPath:"url(#a)",fill:"#0E0F0F"},r().createElement("path",{d:"M13.943 16.692H2.75A2.753 2.753 0 010 13.942V2.75A2.753 2.753 0 012.75 0h11.193a2.753 2.753 0 012.75 2.75v11.192a2.753 2.753 0 01-2.75 2.75zM2.75 1.5c-.69 0-1.25.56-1.25 1.25v11.192c0 .69.56 1.25 1.25 1.25h11.193c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75z"}),r().createElement("path",{d:"M10.28 8.996l-3.117 1.8a.75.75 0 01-1.125-.65v-3.6a.75.75 0 011.125-.649l3.117 1.8a.75.75 0 010 1.299z"})),r().createElement("defs",null,r().createElement("clipPath",{id:"a"},r().createElement("path",{fill:"#fff",d:"M0 0h16.692v16.692H0z"}))));function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},I.apply(this,arguments)}var R=({styles:e={},...t})=>r().createElement("svg",I({width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{clipPath:"url(#clip0_2069_4589)",fill:"#000"},r().createElement("path",{d:"M7.41 7.41H0V2.75C0 1.23 1.23 0 2.75 0h4.66v7.41zM1.5 5.91h4.41V1.5H2.75c-.69 0-1.25.56-1.25 1.25v3.16zM16.69 7.41H9.28V0h4.66c1.52 0 2.75 1.23 2.75 2.75v4.66zm-5.91-1.5h4.41V2.75c0-.69-.56-1.25-1.25-1.25h-3.16v4.41zM7.41 16.69H2.75C1.23 16.69 0 15.46 0 13.94V9.28h7.41v7.41zM1.5 10.78v3.16c0 .69.56 1.25 1.25 1.25h3.16v-4.41H1.5zM13.94 16.69H9.28V9.28h7.41v4.66c0 1.52-1.23 2.75-2.75 2.75zm-3.16-1.5h3.16c.69 0 1.25-.56 1.25-1.25v-3.16h-4.41v4.41z"})),r().createElement("defs",null,r().createElement("clipPath",{id:"clip0_2069_4589"},r().createElement("path",{fill:"#fff",d:"M0 0h16.69v16.69H0z"}))));const T=({styles:e})=>{const t=(0,i.aF)(),a={images:{assettype:"image",mediatype:null,assetfiletype:null,icon:k,trackingEvent:"images"},photos:{assettype:"image",mediatype:"photography",assetfiletype:null,icon:j,trackingEvent:"images-photos"},illustrations:{assettype:"image",mediatype:"illustration",assetfiletype:null,icon:A,trackingEvent:"images-illustrations"},vectors:{assettype:"image",mediatype:"illustration",assetfiletype:"eps",icon:P,trackingEvent:"images-vectors"},video:{assettype:"film",mediatype:null,assetfiletype:null,icon:N,trackingEvent:"video"}},r={imagefilm:{assettype:"image,film",mediatype:null,assetfiletype:null,icon:R,trackingEvent:"images-videos"}},{inExperience:n}=t.imageFilmGrid,o=n?{...r,...a}:a,l=(0,w.T)(),d=(0,c.MO)(),u=(0,c.T_)(),[m,p]=(0,s.useState)(!0),g=(0,s.useRef)(null),v=d.isSearchBarRefreshOfferTestA();(0,s.useEffect)((()=>{if(v&&g.current&&0!==g.current.getBoundingClientRect().width){const e=g.current.getBoundingClientRect().width;d.setAutoSuggestContainerWidth(e)}}),[g.current]);const x=(e,t,a)=>{let s,r,n;if(!d.isSearchbarRefreshEnabled())return;"openDropdown"===e&&(s={name:e,payload:{dropdown_type:"asset_family_search_options",ui_element_location:"search_bar"}},r="open_search_asset_family_options",n="asset_family_options"),"selectDropdownOption"===e&&(s={name:e,payload:{dropdown_type:"asset_family_search_options",dropdown_option_selected:t,ui_element_location:"search_bar"}},r="select_search_asset_family_option",n=a);const i=(0,y.A)({event_name:r,search_selection:n,ui_element_location:"search_bar_media_filter"});(0,f.j)(s,i)},E=()=>n&&d.imageAndFilmSearch()?"imagefilm":d.filmSearch()?"video":d.vectorSearch()?"vectors":d.photographySearch()?"photos":d.illustrationSearch()?"illustrations":"images",O=()=>{m&&x("openDropdown"),p(!m)},C=e=>{const{icon:t,trackingEvent:a,...s}=o[e];O(),d.updateSearchBarSearchParameters(s),d.updateSearchBar({inFocus:!1}),u.sendItemSelectedSignal("media_type_change",e),d.options.performSearch||d.setStatusToUpdated(),x("selectDropdownOption",a,e)},M=e=>l("imagefilm"===e?"all_content":e),I=(0,s.useMemo)((()=>Object.entries(o).map((([t,a])=>{const s=[v&&(0,h.jsx)(a.icon,{className:e.labelIcon},"iconLabel"),(0,h.jsx)("span",{children:M(t)},"mediaLabel"),E()===t&&(0,h.jsx)(S.Z,{className:e.iconCheckmark,viewBox:"0 0 100 100"},"iconCheckmark")];return(0,h.jsx)("li",{role:"option","aria-selected":E===t,"aria-label":t,className:e.option,onClick:()=>C(t),onKeyDown:e=>(e=>{13===e.key&&C()})(e),children:(0,h.jsx)("span",{children:(0,h.jsx)("label",{className:e.dropdownLabel,children:v?s:s.reverse()})})},t)}))),[o,v]),T=o[E()].icon,z=(0,s.useMemo)((()=>_().bind(e.mediaOptions)(e.mediaOptions,{[e.mediaOptionsSearchbarRefresh]:v,[e.open]:!m,[e.imageFilmGridLabels]:n,[e.imageFilmGridMenuHeight]:n&&!m})),[v,m]),L=(0,s.useMemo)((()=>_().bind(e.container)(e.container,{[e.containerSearchbarRefresh]:v})),[v]);return(0,h.jsxs)("section",{ref:g,className:L,onMouseLeave:()=>{m||p(!0)},"data-testid":"section-media-filter",children:[(0,h.jsxs)("div",{"aria-hidden":"true",className:e.mainLabel,onClick:O,children:[(0,h.jsxs)("div",{className:e.selectedIconGroup,children:[v&&(0,h.jsx)(T,{className:e.selectedIcon}),(0,h.jsx)("span",{className:e.selectedLabel,"data-testid":"selectedLabel",children:M(E())})]}),(0,h.jsx)(b.Z,{className:`${m?e.iconClosed:e.iconOpen}`})]}),(0,h.jsx)("div",{className:z,children:(0,h.jsx)("ul",{"data-testid":"base-media-fiter-media-dropdown",children:I})})]})};T.defaultProps={styles:{}};var z=T;var L=()=>(0,h.jsx)(z,{styles:g}),B={container:"IdvAIXZzi9TeLeEKuPEY",containerSearchbarRefresh:"HpnKnfPYDBwVpW2dB7kZ",iconClosed:"iQKiXHTaq5M178fXIBZX",iconOpen:"lHk3K_Ej614zNdeSprTK",mediaOptions:"npA6GQjzvHr6V8RpFAAP",open:"X6uJTpjQF9dLNlmVQxg6",mainLabel:"YI1TP1t0wytrupP4FEVp",iconCheckmark:"JNwzdoKygywJpSxmezMB"};var H=()=>(0,h.jsx)(z,{styles:B}),F="vF33Cv5SuB3ovOqSAgTg",V="TQaUANxcizLAXFgPWHKJ",D="ump3DFQzqRNA9ZIII2bM",U="yriSi0vNYDTjo67wLVbm";var W=()=>{const[e,t]=(0,s.useState)(!0),a=()=>t(!e);return(0,s.useEffect)((()=>{const e=document.getElementById("search-bar-toggle");return null==e||e.addEventListener("click",a),()=>null==e?void 0:e.removeEventListener("click",a)}),[a]),(0,h.jsx)("div",{className:F,children:(0,h.jsx)("div",{"data-testid":"collapsible-search-bar",className:`${V} ${e?D:U}`,children:(0,h.jsx)(p,{})})})}},7263:function(e,t,a){"use strict";a.d(t,{J:function(){return At},hF:function(){return Dt},E1:function(){return k},Rj:function(){return S},Fz:function(){return Ve}});var s=a(2747),r=a.n(s),n=a(7166),i=a.n(n),c=a(776),o=a(3382),l=a(8130),h=a(4735),d=a(5699);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},u.apply(this,arguments)}var m=({styles:e={},...t})=>r().createElement("svg",u({viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("path",{d:"M39.4 38.1l-7.2-7.2c2.1-2.4 3.4-5.6 3.4-9 0-7.3-6.4-13.7-13.7-13.7-7.6 0-13.7 6.1-13.7 13.7s6.1 13.7 13.7 13.7c3.5 0 6.6-1.3 9.1-3.5l7.2 7.2c.2.2.5.2.7 0l.5-.5c.2-.2.2-.5 0-.7zm-17.5-4.3c-6.6 0-12-5.4-12-11.9 0-6.6 5.4-12 12-12 6.4 0 12 5.6 12 12-.1 6.6-5.4 11.9-12 11.9z",fill:"#0D0D0D"}));function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},p.apply(this,arguments)}var g=({styles:e={},...t})=>r().createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18.796 18.927"},t),r().createElement("path",{d:"M18.796 16.904l-4.378-4.378a7.892 7.892 0 001.467-4.583C15.885 3.563 12.322 0 7.943 0 3.563 0 0 3.563 0 7.943c0 4.38 3.563 7.943 7.943 7.943a7.89 7.89 0 004.583-1.467l4.378 4.377 1.892-1.892zM7.943 13.209a5.272 5.272 0 01-5.267-5.266 5.272 5.272 0 015.267-5.267 5.272 5.272 0 015.266 5.267 5.272 5.272 0 01-5.266 5.266z"}));function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},v.apply(this,arguments)}var _=({styles:e={},...t})=>r().createElement("svg",v({viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("path",{d:"M12.785.21L7.007 5.986 1.231.21A.71.71 0 00.227 1.212l5.78 5.78-5.78 5.78a.71.71 0 00.31 1.206.706.706 0 00.694-.203l5.778-5.78 5.78 5.78a.71.71 0 00.985-.019.706.706 0 00.017-.985l-5.777-5.78 5.777-5.779A.71.71 0 0013.29 0a.71.71 0 00-.504.21z",fillRule:"evenodd"})),y={"badge-new-text":"ZaQTII7fYPRpg1CrQizu",newIcon:"UcyGnpsBKp5D6jBatjc6",container:"oJsi0KFAthcrF4v2Aqxw",containerSearchbarRefresh:"Jve4u_0OujD9sx_7Jmgi",IconSearch:"rzI3DvPr8AjkFNGPLRjZ",buttonSearch:"kDvxgUoOJI5CjgMowPHH",buttonClear:"Hj91UQJUBVXMginaMsXA",divider:"P2nD8rUVInfJP9jjXQQw",iconSearch:"CZbeSfiQaNj_7X2f6bMi",iconClear:"nSQLpsTHxGwQi_Z4IYZp",form:"JQHhx7zNWu7Rxif56rQg",input:"va9id2ppd6a9THmMPR8J",autosuggest:"cirOi3QsKMYmR29Y5seJ",dismissibleTooltip:"XKJrq_m8IyHn9C2bWIqB",tooltipContentWrapper:"h2ojRwv0oTfzgWDDPAIw",tooltipContent:"ofjpWiHwK5bgkU4iKPBg",bold:"ywccz2kFFAE3Nj9QmKi8"},f={container:"M8tjklTCYNTYkf_kLfRO",buttonSearch:"fpCrYgH1yrrw1HEKyQRN",buttonClear:"LQcsSClNJjkC4jIhpmcU",iconSearch:"SF9WoGSqXKJBs7qBsLPO",iconClear:"coFkXr7qAZy3MxHl1c6X",form:"OE3tqpFmLA07M5y0Dmq_",input:"bogm8Sy8PRfebsyLio8d",autosuggest:"dJ9E2vj2xcGAE88yea6J"},w=a(5893);var S=({placeholders:e})=>{const t=(0,d.MO)(),a=(0,c.NW)(),r=(0,d.T_)(),n=(0,l.T)(),u=(0,h.aF)(),p=(0,c.W4)(),v=p.isGetty()?f:y,S=p.isGetty()?g:m,b=t.searchParameters.phrase||"",x=e=>{var a,s;(e.preventDefault(),0!==b.length||t.options.allowBlankSearches||t.specialSearch())&&(t.updateSearchBar({inFocus:!1}),t.setStatusToUpdated(),null==(a=document)||null==(s=a.activeElement)||s.blur(),r.sendItemSelectedSignal("searchbox",b))},j=()=>{t.updateSearchBar({inFocus:!0})},E=t.isSearchBarRefreshOfferTestA(),k=(0,s.useMemo)((()=>i().bind(v.container)(v.container,{[v.containerSearchbarRefresh]:E})),[E]),O=()=>(0,w.jsx)("button",{"aria-label":"search",className:v.buttonSearch,onClick:e=>x(e),type:"button",children:(0,w.jsx)(S,{className:v.IconSearch,viewBox:"0 0 48 48"})}),A=!u.isBot&&p.isIstock()&&t.searchByImageSearch()&&(0,h._P)("SearchByImageTooltip").isActive(),C=()=>(0,w.jsx)(o.lq,{className:v.dismissibleTooltip,localStorageKey:"refine_sbi_tooltip",name:"SBITooltip",placement:"bottom",children:(0,w.jsxs)("div",{className:v.tooltipContentWrapper,children:[(0,w.jsx)("span",{className:v.newIcon,children:n("new_all_caps")}),(0,w.jsxs)("span",{className:v.tooltipContent,children:[(0,w.jsx)("span",{className:v.bold,children:n("refine_your_search")}),(0,w.jsx)("br",{}),n("sbi_add_keywords")]})]})});return(0,w.jsxs)("div",{className:k,"data-testid":"container-search-box",children:[(!E||p.isGetty())&&(0,w.jsx)(O,{}),(0,w.jsx)(Dt,{}),(0,w.jsx)("form",{"aria-label":"form",method:"GET",className:v.form,action:a.searchUrl(t.searchParameters.assettype),onSubmit:e=>x(e),children:(0,w.jsx)("input",{className:v.input,"data-testid":"container-search-box-input",value:b||"",onChange:e=>{t.updateSearchBar({inFocus:!0}),t.updateSearchBarSearchParameters({phrase:e.target.value})},placeholder:(()=>{if(t.options.placeholder)return t.options.placeholder;if(t.similarContentSearch())return n(e.morelikethis);if(t.searchByImageSearch())return n(e.searchbyimage);if(t.searchByAssetSearch())return n(e.searchbyasset);if(t.imageAndFilmSearch())return n(e.imagefilm);const a=e[(()=>{const{assettype:e,assetfiletype:a,family:s,mediatype:r}=t.searchParameters,n=[];return e&&n.push(e),["creative","editorial"].includes(s)&&n.push(s),r&&"unknown"!==r&&(n.push(r),a&&n.push(a)),n.join(".")})()];return n(a||"image")})(),onFocus:j,onClick:j,"aria-label":"text",name:"phrase",autoComplete:"off","data-autosuggest-from":"https://as.gettyservices.com:443/GettyImages.Autocomplete.KeywordService.Service/KeywordService1/Suggestedkeywords/{0}/{1}/{2}/{3}/{4}?usePopularity=true"})}),p.isIstock()&&t.searchByImageSearch()&&(0,h._P)("SearchByImageTooltip").isActive()&&C(),(null==b?void 0:b.length)>0&&(0,w.jsx)("button",{"aria-label":"clear",className:v.buttonClear,onClick:()=>{t.updateSearchBarSearchParameters({phrase:""})},type:"button",children:(0,w.jsx)(_,{className:v.iconClear})}),A&&C()]})},b=a(6514),x=a(8060),j={container:"QqUD2f1E9Exh82ygnebb",content:"H1A42eumXRSne3hVS_tA",docked:"NirM_i_X9Vhd6EF2cgHG",up:"XcX9EN1pmxBOMMv67EGw"},E={container:"lQvhWV8PJl1qeNYnoemX",content:"f2D_Ju2hIBfTqw_V269Y",docked:"qrO9GzsjIB1zBAqF37lc",up:"PAbmM4PuweRuSO8APRRg"};var k=({children:e})=>{const t=(0,d.MO)(),a=(0,c.NW)(),r=(0,s.useRef)(),n=(0,s.useRef)(),i=(0,s.useRef)(),o="undefined"!=typeof window?window.document:null,[l]=(0,b.Z)(250),h=(0,c.W4)().isGetty()?E:j;(0,d.HW)(t);const u=()=>{if(!t.options.peekyScroll)return;let e=null;const{height:a}=r.current.getBoundingClientRect(),s=r.current.getBoundingClientRect().top,n=o.scrollingElement.scrollTop;e=s>0?"none":(e=>i.current&&i.current>e)(n)?"docked":s>a?"docked-up":"none",i.current=n,e!==t.peekyScrollMode&&t.updateSearchBarPeekyMode(e)},[m,p]=(0,x.Z)("scroll",(()=>{t.options.hideOnScroll&&t.inFocus&&t.updateSearchBar({inFocus:!1}),u()}),o);return(0,s.useEffect)((()=>{p(),(t.inFocus||t.options.peekyScroll)&&m()}),[t.inFocus,t.options.peekyScroll]),(0,s.useEffect)((()=>{t.options.hideOnScroll&&t.inFocus&&(p(),l(m))}),[t.inFocus]),(0,s.useEffect)((()=>{if(t.updated()){if(t.options.performSearch)(()=>{const e={};Object.keys(t.searchParameters).forEach((a=>{t.searchParameters[a]&&(e[a]=t.searchParameters[a])})),window.location=a.traditionalSearchPath(e)})();else{const e=new CustomEvent("searchbar.updated",{detail:t.searchParameters});o.dispatchEvent(e)}t.setStatusToReady()}}),[t.status]),(0,s.useEffect)((()=>{const e=e=>{t.updateSearchBar(e.detail)};return o.addEventListener("search.updated",e),()=>o.removeEventListener("search.updated",e)}),[]),(0,w.jsx)("div",{ref:r,className:h.container,"data-testid":"container-search-bar",children:(0,w.jsx)("div",{ref:n,className:`${h.content} ${(()=>{const e=[];return t.options.peekyScroll&&("docked"===t.peekyScrollMode?e.push(h.docked):"docked-up"===t.peekyScrollMode&&(e.push(h.docked),e.push(h.up))),e.join(" ")})()}`,children:e})})},O=a(2211),A=a(6905);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},C.apply(this,arguments)}var P=({styles:e={},...t})=>r().createElement("svg",C({width:"27",height:"25",viewBox:"0 0 27 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{clipPath:"url(#clip0_994_14909)",fill:"#080808"},r().createElement("path",{d:"M2.026 21.404H0v-2.09h1.215v.836h.81v1.254zM1.215 16.675H0v-2.643h1.215v2.643zm0-5.285H0V8.75h1.215v2.639zM1.215 6.105H0v-2.09h2.026v1.254h-.81v.836zM12.262 5.272h-2.56V4.018h2.56v1.254zm-5.116 0h-2.56V4.018h2.552l.008 1.254zM9.759 15.178a2.094 2.094 0 01-1.502-.645 2.231 2.231 0 01-.621-1.55c0-.582.224-1.14.621-1.551a2.094 2.094 0 011.502-.644 2.098 2.098 0 011.502.644c.399.411.623.969.625 1.55 0 .583-.225 1.141-.623 1.553-.4.412-.94.643-1.504.643zm0-3.345a1.097 1.097 0 00-.785.338 1.169 1.169 0 00-.325.812c0 .304.117.596.325.811.208.216.49.338.785.339.295 0 .579-.121.787-.337a1.17 1.17 0 00.327-.813c0-.305-.118-.598-.326-.813a1.097 1.097 0 00-.788-.337z"}),r().createElement("path",{d:"M19.955 0a6.944 6.944 0 00-4.976 2.134 7.4 7.4 0 00-2.064 5.137c0 .184 0 .368.028.552H3.82v17.181h16.642v-10.49a6.965 6.965 0 004.638-2.301 7.405 7.405 0 001.888-4.942 7.4 7.4 0 00-2.062-5.134A6.944 6.944 0 0019.956 0zm-.506 23.959H4.833v-2.626l2.97-2.927 2.333 2.409 4.95-5.106 4.363 4.508v3.742zm0-5.21l-4.363-4.5-4.95 5.102-2.318-2.392-2.985 2.927V8.864h8.26a7.317 7.317 0 002.276 3.905 6.93 6.93 0 004.08 1.74v4.24zm3.61-10.529l-2.27-2.341v5.436h-1.446V5.879L17.072 8.22l-1.02-1.053 4.014-4.14 4.014 4.14-1.02 1.053z"})),r().createElement("defs",null,r().createElement("clipPath",{id:"clip0_994_14909"},r().createElement("path",{fill:"#fff",d:"M0 0h27v25H0z"}))));function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},M.apply(this,arguments)}var N=({styles:e={},...t})=>r().createElement("svg",M({width:"36",height:"32",viewBox:"0 0 36 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{clipPath:"url(#clip0_992_14699)",fill:"#666E6E"},r().createElement("path",{d:"M2.603 26.096H1.041c-.276 0-.54-.112-.736-.31A1.066 1.066 0 010 25.04v-1.586c0-.28.11-.55.305-.748a1.033 1.033 0 011.473 0c.195.199.304.468.304.748v.529h.521c.276 0 .541.11.736.31a1.066 1.066 0 010 1.494c-.195.198-.46.31-.736.31zM1.041 20.683c-.276 0-.54-.111-.736-.31A1.065 1.065 0 010 19.627v-2.87c0-.28.11-.55.305-.748a1.033 1.033 0 011.473 0c.195.199.304.468.304.748v2.87c0 .28-.11.55-.304.747-.196.199-.46.31-.737.31zm0-6.702c-.276 0-.54-.112-.736-.31A1.066 1.066 0 010 12.924v-2.87c0-.28.11-.55.305-.748a1.033 1.033 0 011.473 0c.195.198.304.467.304.748v2.87c0 .28-.11.549-.304.747-.196.198-.46.31-.737.31zM1.041 7.284c-.276 0-.54-.112-.736-.31A1.065 1.065 0 010 6.227V4.64c0-.28.11-.55.305-.748.195-.198.46-.31.736-.31h1.562c.276 0 .541.112.736.31a1.065 1.065 0 010 1.495c-.195.199-.46.31-.736.31h-.52v.529c0 .28-.11.549-.305.747-.196.198-.46.31-.737.31zM15.8 5.698h-2.827c-.276 0-.54-.111-.736-.31a1.065 1.065 0 010-1.495c.196-.198.46-.31.736-.31H15.8c.277 0 .541.112.737.31a1.065 1.065 0 010 1.495c-.196.199-.46.31-.736.31zm-6.596 0H6.372c-.276 0-.54-.111-.736-.31a1.065 1.065 0 010-1.495c.195-.198.46-.31.736-.31h2.832c.276 0 .541.112.737.31a1.066 1.066 0 010 1.495c-.196.199-.46.31-.737.31zM13.848 19.584a3.1 3.1 0 01-2.209-.93 3.196 3.196 0 01-.914-2.242c0-.84.329-1.648.915-2.242a3.1 3.1 0 012.208-.93 3.1 3.1 0 012.209.93c.586.594.915 1.401.915 2.242s-.33 1.648-.915 2.243a3.1 3.1 0 01-2.209.929zm0-4.229c-.276 0-.54.111-.736.31a1.065 1.065 0 000 1.495 1.033 1.033 0 001.473 0 1.065 1.065 0 000-1.495 1.033 1.033 0 00-.737-.31z"}),r().createElement("path",{d:"M26.952 0a8.995 8.995 0 00-6.399 2.695 9.274 9.274 0 00-2.655 6.497v.301H6.862c-.277 0-.541.112-.737.31a1.065 1.065 0 00-.305.747v20.398c0 .28.11.55.305.748.196.198.46.31.737.31h20.09c.276 0 .54-.112.736-.31.195-.199.305-.468.305-.748V18.315a9.02 9.02 0 005.71-3.017 9.274 9.274 0 00-.356-12.6A8.995 8.995 0 0026.952 0zM25.91 29.891H7.903v-2.754l3.42-3.303 2.27 2.31a1.04 1.04 0 00.737.31 1.027 1.027 0 00.736-.31l5.623-5.71 5.206 5.287.015 4.17zm0-7.146l-4.487-4.551a1.04 1.04 0 00-.737-.31 1.028 1.028 0 00-.736.31l-5.618 5.708-2.254-2.294a1.033 1.033 0 00-1.458 0l-2.717 2.643V11.64h10.323a9.227 9.227 0 002.834 4.545 9.003 9.003 0 004.85 2.163v4.398zm4.368-13.02L28.02 7.433v5.925c0 .25-.098.489-.271.665a.92.92 0 01-1.313 0 .954.954 0 01-.275-.665V7.432l-2.259 2.294a.92.92 0 01-.656.278.91.91 0 01-.656-.278.936.936 0 01-.274-.666.95.95 0 01.274-.666l3.858-3.917a.904.904 0 011.286 0L31.59 8.4a.937.937 0 01.275.666.948.948 0 01-.576.871.91.91 0 01-1.01-.21z"})),r().createElement("defs",null,r().createElement("clipPath",{id:"clip0_992_14699"},r().createElement("path",{fill:"#fff",d:"M0 0h36v32H0z"})))),I={"badge-new-text":"JWBRRe6UIldwQOU6xVF8",newIcon:"QSTEyrD2Q7IK4c1Pc0N9",container:"_lJOiyrQv6xrbMVq1jQP",icon:"rzDcAhMiG8gzSEJrnBrJ",label:"FPO1zj8HP2Ov9fQ2nwXN",holder:"iBlfZijQKKbNOH1EOfUe",dismissibleTooltip:"t5jEY5fMduGR0HN1ReUO",tooltipContentWrapper:"ZCC14j2hKZJ3vx7YMCkM",tooltipContent:"MBz7ZpnjW_XezxoRz57g"},R={"confirmed-checkmark":"V7DozZDtixofzpS19sZf","black-checkmark":"NfUsgfHOjgK_2SdH1BQk","badge-number":"bv6STobQXzQZyOUeZNqG","badge-new-text":"J99Dk8ZuRZSKcZJRHLxy","gi-icon-container":"oNqA6u1dtnvS4FwXmJ7h","search-magnifying-glass":"vAUiPpLCrI0_TGyvS5RT",container:"yPlZ5MonAJfLDFfKYGig",icon:"nE6qluEU7tOOtx3PBj_N",label:"vG4SW7wVzZjdo8RTu2tw",holder:"ite1j2EN1vmNN3Ix7oGM"};const T="SBI_SET_ERROR",z="SBI_CLEAR_ERROR",L="SBI_SET_MODAL_LOADING",B="SBI_SET_SEARCH_URL",H="SBI_SET_UPLOAD_SUCCESS",F="SBI_SET_UPLOAD_FAILURE",V=e=>({type:T,errors:e}),D=()=>({type:z}),U={modal:{loading:!1},errors:{message:{},hasError:!1},upload:{searchUrl:null,success:!1}},W=(e,t)=>{switch(t.type){case L:return{...e,modal:{...e.modal,loading:t.modalLoading}};case T:return{...e,errors:{...e.errors,message:{...t.errors},hasError:!0}};case z:return{...e,errors:{...e.errors,message:{},hasError:!1}};case B:return{...e,upload:{...e.upload,searchUrl:t.data}};case H:return{...e,upload:{...e.upload,success:!0}};case F:return{...e,upload:{...e.upload,success:!1}};default:return e}},G=(0,s.createContext)(),K=e=>{const[t,a]=(0,s.useReducer)(W,U);return(0,w.jsx)(G.Provider,{value:[t,a],children:e.children})};var Z=a(1155),J=a(3049),q="r0qylMyhsFA83TRGeUhB",Q="uiYbVu9QdGXpf56OZxSe",X="j4ShUSgh48WHsGveYuTr",Y=a(463),$=a(7355);var ee=class{constructor(e,t){this.valid=!1,this.message="",this.file=e,this.validatorFunction=t}isValid(){return this.valid}getMessage(){return this.message}validate(){const e=this.validatorFunction.call(this,this.file);!0===e?this.valid=!0:(this.valid=!1,this.message=e)}};var te=class extends ee{constructor(e,t){super(e,t)}validate(){return async()=>{await this.validatorFunction.call(this,this.file),this.valid=!0}}};var ae=class{static validate(e){for(let t=0;t<e.length;t++){let a=e[t];if(a.validate(),!a.isValid())return a.getMessage()}return!0}static async asyncValidate(e){for(let t=0;t<e.length;t++){let a=e[t].validate();await a()}return!0}};const se={code:"file-type-not-allowed",key:"sbi-upload-restriction-filetypes"},re={code:"file-dimension-too-large",key:"sbi-upload-restriction-fileres"},ne=e=>Math.round(100*e)/100,ie=1e3,ce=e=>new Promise(((t,a)=>{document||a();let s=new Image,r=document.createElement("canvas"),n=r.getContext("2d");s.onload=function(){const e=this.naturalWidth,a=this.naturalHeight;let s=e,i=a;(e>ie||a>ie)&&(e>a?(s=ie,i=ne(ie*a/e)):(i=ie,s=ne(ie*e/a))),r.width=s,r.height=i,n.drawImage(this,0,0,s,i),r.toBlob((function(e){t(e)}),"image/jpeg",.9)},s.crossOrigin="",s.src=e})),oe=["image/jpg","image/jpeg","image/png","image/html","text/html"],le=()=>{const e=["JPG","PNG","MP4","MOV"],t=["video/mp4","video/quicktime"];return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?{extensions:e,types:[...t,...oe]}:{extensions:[...e,"WebM"],types:[...t,...oe,"video/webm"]}},he=e=>e.type.startsWith("video"),de=async e=>{var t,a;const s=await(async e=>new Promise(((t,a)=>{const s=new FileReader;s.onload=()=>{const a=new Image;a.type=e.type,a.size=e.size,a.onload=()=>{Object.defineProperty(e,"loadedImage",{value:a}),t(e)},a.src=s.result},s.readAsDataURL(e)})))(e);if((null==s||null==(t=s.loadedImage)?void 0:t.width)>4032||(null==s||null==(a=s.loadedImage)?void 0:a.height)>4032)throw re;return!0},ue=e=>!!le().types.includes(e.type)||se,me=e=>{const t=[];t.push(new ee(e,ue));const a=ae.validate(t);return!0===a?null:a};var pe=a(2973),ge=a.n(pe);const ve=e=>({type:L,modalLoading:e}),_e={EntityTooLarge:{code:"file-too-large",key:"sbi-upload-restriction-filesize"},InvalidContentType:se,Other:{code:"some-big-error",key:"sbi-result-fail"}},ye=async(e,t,a)=>{e(ve(!0)),e(we());try{const s=await((e="image")=>{const t=`/components/search-bar/api/upload-visual-search/upload-data?assettype=${e}`;return ge().get(t)})(a);await((e,t)=>{const a={headers:{"Content-Type":t.type}};return ge().put(e,t,a)})(s.data.uploadUrl,t),e(Se(s.data.searchUrl)),e(fe())}catch(t){var s,r;e(we()),e(V(((e={})=>{let{Code:{text:t}={},Message:{text:a}={}}=(null==e?void 0:e.Error)||{};return"AccessDenied"==t&&(null==a?void 0:a.search(/Condition failed.*Content-Type/))>=0&&(t="InvalidContentType"),_e[t]||_e.Other})(null==t||null==(s=t.response)||null==(r=s.data)?void 0:r.xmlResponse))),e(ve(!1))}},fe=()=>({type:H}),we=()=>({type:F}),Se=e=>({type:B,data:e});var be={greyBox:"GtdN7fMCSAaQ_PcKr4p7",allowed:"zZ7jFDO7K67STPLfGbuJ",rejected:"yd9Se6FVzl9WxoA_D7ci",mainCallout:"yCSO79_K8pJljYrDkSYb",secondaryCallout:"gI1782Revff1WWTAT7gZ",alternateChoice:"kziP81WdGzze3mweWxXd",fileSelector:"we_fHNGy0g3iCgNe6Gax",dragDropIcon:"a125pzUvgtCIBSHZmMOx"},xe={greyBox:"ydIkCMzF1LbB9ZmYGJjy",allowed:"aSAoOmP45oCfGKEXF3Zq",rejected:"RENrDuucnO_pM5DoScuf",mainCallout:"BkgcRFfmk1sVfdqXDTRN",secondaryCallout:"NcGgQPPPFLKjwv1upjFD",alternateChoice:"xf3RetHHRTQqXlDywH1u",fileSelector:"lHee99IZSSnoL2pZ2zi4",dragDropIcon:"MXOuRWzYzu12oSePqo1o"};function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},je.apply(this,arguments)}var Ee=({styles:e={},...t})=>r().createElement("svg",je({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"109.227",height:"85.694",viewBox:"0 0 109.227 85.694",xmlSpace:"preserve"},t),r().createElement("path",{className:e.st0||"st0",d:"M84.384 68.39c-.69 0-1.25-.56-1.25-1.25v-8.5a1.25 1.25 0 112.5 0v8.5c0 .69-.56 1.25-1.25 1.25zM84.384 85.694h-8.5a1.25 1.25 0 110-2.5h7.25v-7.25a1.25 1.25 0 112.5 0v8.5c0 .69-.56 1.25-1.25 1.25zM62.657 85.694H49.43a1.25 1.25 0 110-2.5h13.227a1.25 1.25 0 110 2.5zm-26.453 0H22.977a1.25 1.25 0 110-2.5h13.227a1.25 1.25 0 110 2.5zM9.75 85.694h-8.5c-.69 0-1.25-.56-1.25-1.25v-8.5a1.25 1.25 0 112.5 0v7.25h7.25a1.25 1.25 0 110 2.5zM1.25 63.264c-.69 0-1.25-.56-1.25-1.25v-13.93a1.25 1.25 0 112.5 0v13.93c0 .69-.56 1.25-1.25 1.25zM1.25 35.403c-.69 0-1.25-.56-1.25-1.25v-8.5c0-.69.56-1.25 1.25-1.25h8.5a1.25 1.25 0 110 2.5H2.5v7.25c0 .69-.56 1.25-1.25 1.25zM31.353 26.903h-8.5a1.25 1.25 0 110-2.5h8.5a1.25 1.25 0 110 2.5z"}),r().createElement("path",{className:e.st0||"st0",d:"M107.977 57.69H31.429c-.69 0-1.25-.56-1.25-1.25V1.25c0-.69.56-1.25 1.25-1.25h76.548c.69 0 1.25.56 1.25 1.25v55.19c0 .69-.56 1.25-1.25 1.25zm-75.298-2.5h74.048V2.5H32.679v52.69z"}),r().createElement("g",null,r().createElement("path",{d:"M46.67 15.014C34.015 18.721 25.74 30.177 25.496 42.7h-9.95l17.957 26.955 17.602-26.955h-11.06c.182-10.482 7.102-20.079 17.694-23.18a24.493 24.493 0 0115.206.45c-7.206-5.554-16.874-7.708-26.273-4.955z",fill:"#aeddd6"}),r().createElement("path",{className:e.st0||"st0",d:"M33.502 70.904c-.418 0-.809-.21-1.04-.557L14.503 43.392a1.25 1.25 0 011.04-1.943h8.749c.759-12.946 9.48-23.96 22.026-27.635 9.387-2.749 19.624-.818 27.388 5.164a1.25 1.25 0 01-1.185 2.167 23.171 23.171 0 00-14.433-.427c-9.457 2.77-16.05 11.008-16.74 20.731h9.755a1.25 1.25 0 011.046 1.933L34.548 70.337a1.25 1.25 0 01-1.04.567h-.006zM17.88 43.95l15.612 23.433L48.794 43.95h-8.75a1.25 1.25 0 01-1.25-1.273c.198-11.37 7.67-21.159 18.592-24.358a25.823 25.823 0 018.499-1.021c-5.92-2.483-12.598-2.918-18.863-1.084-11.888 3.481-20.036 14.135-20.277 26.51a1.251 1.251 0 01-1.25 1.226H17.88zm28.79-28.936h.01-.01z"})));function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ke.apply(this,arguments)}var Oe=({styles:e={},...t})=>r().createElement("svg",ke({width:"108",height:"95",viewBox:"0 0 108 95",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{clipPath:"url(#clip0_994_14916)"},r().createElement("path",{d:"M7.82 77.37H0v-7.83h4.69v3.13h3.13v4.7zM4.69 59.65H0v-9.88h4.69v9.88zm0-19.77H0V30h4.69v9.88zM4.69 20.11H0v-7.82h7.82v4.69H4.69v3.13zM47.37 16.98h-9.89v-4.69h9.89v4.69zm-19.78 0h-9.88v-4.69h9.93l-.05 4.69z",fill:"#666"}),r().createElement("path",{d:"M80.21 31.62H19.83V92h60.38V31.62z",fill:"#A6A6A6"}),r().createElement("path",{d:"M80.22 75.28L61.4 56.45 42.29 75.56l-8.99-8.99-13.46 12.8V92h60.38V75.28zM40.83 55.23a6.26 6.26 0 100-12.52 6.26 6.26 0 000 12.52z",fill:"#fff"}),r().createElement("path",{d:"M40.83 57.57a8.61 8.61 0 01-8.6-8.6 8.61 8.61 0 018.6-8.6 8.61 8.61 0 018.6 8.6 8.61 8.61 0 01-8.6 8.6zm0-12.51a3.91 3.91 0 100 7.82 3.91 3.91 0 000-7.82z",fill:"#666"}),r().createElement("path",{d:"M80.22 52.84c13.945 0 25.25-11.305 25.25-25.25S94.165 2.34 80.22 2.34 54.97 13.645 54.97 27.59s11.305 25.25 25.25 25.25z",fill:"#fff"}),r().createElement("path",{d:"M107.81 27.59A27.632 27.632 0 0080.22 0a27.63 27.63 0 00-27.6 27.59c0 .57 0 1.12.09 1.68H17.49v65.07h65.07V55.07a27.63 27.63 0 0025.25-27.48zM77.87 89.65H22.18v-9.27l11.08-10.53 9 9 19.1-19.11 16.48 16.48.03 13.43zM61.39 53.13l-19.1 19.11-9-9-11.16 10.61V33.91h31.22a27.63 27.63 0 0024.47 21.11v14.54L61.39 53.13zm18.83-2.64a22.92 22.92 0 01-22.9-22.9 22.93 22.93 0 0122.9-22.9 22.93 22.93 0 0122.89 22.9 22.922 22.922 0 01-22.89 22.86v.04z",fill:"#666"}),r().createElement("path",{d:"M94.1 25.47L80.57 11.94 67.1 25.41l3.32 3.32 7.86-7.86V40h4.7V20.99l7.8 7.8 3.32-3.32z",fill:"#666"})),r().createElement("defs",null,r().createElement("clipPath",{id:"clip0_994_14916"},r().createElement("path",{fill:"#fff",d:"M0 0h107.81v94.34H0z"}))));var Ae=({dispatch:e,assetType:t,setUploadedVideo:a})=>{const r=(0,l.T)(),[n,i]=(0,s.useState)(!1),o=(0,c.W4)(),h=o.isGetty()?xe:be,d=(0,s.useCallback)((a=>{a.map((a=>{(()=>{const e=n?"drag_and_drop":"choose_file_button",t={name:"searchInteraction",payload:{search_interaction:"Search_by_Image_Choose_File",ui_element_location:n?"search_by_image_drag_and_drop":"search_by_image_choose_file_button",search_tools:"searchbyimage"}},a=(0,$.A)({event_name:"search_by_image",search_selection:e,ui_element_location:"modal"});(0,A.j)(t,a)})(),ye(e,a,t)}))}),[n]),u=(0,s.useCallback)((t=>{t.map((({errors:t})=>{t.map((t=>{t.key&&e(V(t))}))}))}),[]),m=(0,s.useCallback)((t=>{e(D());const s=[],r=[];t.forEach((e=>{if(e.type.startsWith("video")){const t=URL.createObjectURL(e);a(t)}else{var t;(t=e,new Promise(((e,a)=>{const s=new FileReader;s.onload=()=>{ce(s.result).then((t=>{const a=new File([t],"image.jpg",{type:"image/jpg"});e(a)}))},s.readAsDataURL(t)}))).then((e=>{(async e=>{const t=[];he(e)||t.push(new te(e,de));try{return await ae.asyncValidate(t),null}catch(e){throw e}})(e).then((()=>{s.push(e),d(s)})).catch((t=>{r.push({errors:[t],file:e}),u(r)}))})).catch((e=>{}))}}))}),[n]),{getRootProps:p,getInputProps:g,open:v,isDragAccept:_,isDragReject:y}=(0,Y.u)({noClick:!0,noKeyboard:!0,accept:le().types.join(", "),maxFiles:1,validator:me,onDropRejected:u,onDrop:m,onDragEnter:()=>i(!0),onDragLeave:()=>i(!1)}),f=p(),{onDrop:S}=f;return(0,w.jsxs)("div",{"data-testid":"drop-zone",...p({className:`${h.greyBox} ${_?h.allowed:""} ${y?h.rejected:""}`}),onDrop:e=>(async e=>{if(e.dataTransfer.types.includes("text/uri-list")){const t=e.dataTransfer.getData("text/uri-list");try{const e=await ce(t),a=new File([e],"image.jpg",{type:"image/jpg"}),s=me(a);s?u([{error:s,file:a}]):m([a])}catch(e){}}else S(e)})(e),children:[o.isGetty()?(0,w.jsx)(Oe,{className:h.dragDropIcon,viewBox:"0 0 100 100"}):(0,w.jsx)(Ee,{className:h.dragDropIcon,viewBox:"0 0 100 100"}),(0,w.jsx)("input",{"data-testid":"drag-drop-input",...g()}),(0,w.jsx)("div",{className:h.mainCallout,children:r("sbi-upload-dragdrop1")}),(0,w.jsx)("div",{className:h.secondaryCallout,children:r("sbi-upload-dragdrop2")}),(0,w.jsx)("div",{className:h.alternateChoice,children:r("sbi-upload-dragdrop3")}),(0,w.jsx)("a",{"data-testid":"file-selector",className:`${h.fileSelector}`,onClick:()=>{i(!1),v()},children:o.isGetty()?r("sbi-upload-choosefile-uppercase"):r("sbi-upload-choosefile")})]})},Ce={bounceWrapper:"jy_JYz7SqVNxWeEdEBjq",bounceLoader:"XWhrmvuA4dmHCIXYiHPq","first-bounce":"O0GI_yb7HSdqB9hJN3n1","third-bounce":"bYX4fj9u88gY1gTiBpvH","bounce-loader":"wFVYfpAr6up8F0HCmEcO",text:"BBuHH474nc70SMtpWU2c"};var Pe=({text:e})=>(0,w.jsxs)("div",{className:Ce.bounceWrapper,children:[(0,w.jsxs)("div",{className:Ce.bounceLoader,children:[(0,w.jsx)("div",{className:Ce["first-bounce"]}),(0,w.jsx)("div",{className:Ce["second-bounce"]}),(0,w.jsx)("div",{className:Ce["third-bounce"]})]}),(0,w.jsx)("div",{className:Ce.text,children:e})]});class Me extends r().Component{constructor(e){super(e),this.state={error:null}}componentDidCatch(e){this.setState({error:e})}render(){return this.state.error?null:this.props.children}}var Ne=a(4074);const Ie=1e3,Re=e=>Math.round(100*e)/100;var Te={description:"WX2ZPTca4kDpsRycRa2R",videoContainer:"SIcCVavrKnbKVHXi79M6",captureButton:"eGq5vHazm7_iH3KFEhPe",previewVideo:"OiYRp6Iyfb8gt5Cv8K7d"},ze={description:"xIbBDLrkSU__xGgU9k2f",videoContainer:"thPpjsffd5Nm3znL0J3w",captureButton:"Sw7iyjAzq0IuAvL1lwHU",previewVideo:"yu_nPftPT1s6b90zsCAR"};var Le=({dispatch:e,assetType:t,uploadedVideo:a,setUploadedVideo:r})=>{const n=(0,l.T)(),{trackEvent:i}=(0,Ne.u)(),o=(0,s.useRef)(),[h,d]=(0,s.useState)(!1),u=(0,c.W4)(),m=u.isGetty()?ze:Te;(0,s.useEffect)((()=>(o.current.onerror=t=>{var a,s;4===(null==(a=t.srcElement)||null==(s=a.error)?void 0:s.code)?e(V({key:"sbi-unsupported-media-type"})):e(V({key:"sbi-result-fail"})),r(!1)},()=>{URL.revokeObjectURL(a)})),[a]);const p=(0,s.useCallback)((a=>{a.map((a=>{i("searchInteraction",{search_interaction:"Search_by_Image_Choose_File",ui_element_location:"search_by_image_choose_file_button",search_tools:"searchbyimage"}),ye(e,a,t)}))}),[false]);return(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:m.description,children:u.isGetty()?n("pause_video_on_specific_frame"):n("pause_video_on_a_frame")}),(0,w.jsx)("div",{className:m.videoContainer,children:(0,w.jsx)("video",{ref:o,className:m.previewVideo,src:a,muted:!0,controls:!0,onLoadedData:()=>{o.current.readyState>=1&&d(!0)}})}),(0,w.jsx)("button",{className:m.captureButton,disabled:!h,onClick:async()=>{const e=await(t=o.current,new Promise(((e,a)=>{document||a();let s=document.createElement("canvas"),r=s.getContext("2d");const n=t.videoWidth,i=t.videoHeight;let c=n,o=i;(n>Ie||i>Ie)&&(n>i?(c=Ie,o=Re(Ie*i/n)):(o=Ie,c=Re(Ie*n/i))),s.width=c,s.height=o,r.drawImage(t,0,0,c,o),s.toBlob((function(t){e(t)}),"image/jpeg",.9)})));var t;const a=new File([e],"image.jpg",{type:"image/jpg"});p([a])},children:u.isGetty()?n("start_searching_uppercase"):n("start_searching")})]})};const Be=({open:e,handleCloseModal:t,assetType:a,...r})=>{const n=(0,l.T)(),{sbi:i,clearErrors:c,dispatch:o}=(()=>{const[e,t]=(0,s.useContext)(G);return{clearErrors:()=>t(D()),sbi:e,dispatch:t}})(),[h,d]=(0,s.useState)(null);(0,s.useEffect)((()=>{i.upload.success&&window&&window.location&&window.location.replace(i.upload.searchUrl)}),[i.upload.success]);const u=()=>{const{errors:e}=i;if(e.hasError){const t={name:"searchInteraction",payload:{search_interaction:"Search_by_Image_Error",search_selection:`${h?"video":"image"}_file_submission_error`,ui_element_location:"search_by_image_modal"}},a=(0,Z.Z)({error_message_selection:void 0,error_message_name:"image_file_submission_error",ui_element_location:"modal_error_bar"});return(0,A.j)(t,a),(0,w.jsx)("div",{className:Q,children:n(e.message.key,{file_list:le().extensions.join(", ")})})}return null};return(0,w.jsx)(J.u_,{open:e,onClose:e=>{if(!i.errors.hasError){const t={name:"searchInteraction",payload:{search_interaction:"Search_by_Image_Close_Modal",ui_element_location:`search_by_image_modal-${e}`}},a=(0,O.Z)({event:"close_modal",modal_content:"search_by_asset",modal_type:"detailed_modal",cta_text:void 0,ui_element_location:"modal_x"});(0,A.j)(t,a)}c(),t()},...r,children:i.modal.loading?(0,w.jsx)(Pe,{text:n("sbi-uploadstatus-uploading")}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(J.xB,{heading:n(h?"select_a_frame":"search_by_image_or_video"),handleClose:t}),(0,w.jsx)("div",{className:q,"data-testid":"search-by-image-modal",children:!h||i.errors.hasError?(0,w.jsxs)(w.Fragment,{children:[u(),(0,w.jsx)(Ae,{dispatch:o,assetType:a,setUploadedVideo:e=>d(e)}),(0,w.jsx)("div",{className:X,children:n("accepted_file_formats",{file_list:le().extensions.join(", ")})})]}):(0,w.jsx)(Le,{dispatch:o,assetType:a,uploadedVideo:h,setUploadedVideo:d})})]})})};var He=({isOpen:e,handleCloseModal:t,assetType:a})=>(0,w.jsx)(Me,{children:(0,w.jsx)(K,{children:(0,w.jsx)(Be,{open:e,handleCloseModal:t,assetType:a})})});var Fe=()=>{const e=(0,l.T)(),t=(0,c.W4)(),a=(0,d.MO)(),r=t.isGetty(),[n,i]=(0,s.useState)(!1);let u=I;r&&(u=R);const m=e=>{new DataTransfer;const t=new RegExp(/https:\/\/media\..*-{0,1}(istockphoto|gettyimages)\.com\/.*/);let a;try{a=e.target.currentSrc,t.test(a)&&e.dataTransfer.setData("text/uri-list",a)}catch(e){}};(0,s.useEffect)((()=>(document.addEventListener("dragstart",m),()=>{document.removeEventListener("dragstart",m)})));const p=e=>{(e=>{const t={name:"searchInteraction",payload:{search_interaction:"Search_by_Image_Modal_Open",ui_element_location:`search_by_image_${e}`,search_tools:"searchbyimage"}},a=(0,O.Z)({event:"open_modal",modal_content:"search_by_asset",modal_type:"detailed_modal",cta_text:void 0,ui_element_location:"search_by_asset_camera_icon"});(0,A.j)(t,a)})(e),i(!0)},g=t.isGetty()?P:N;return(0,w.jsxs)("div",{className:u.holder,children:[t.isIstock()&&!a.searchByImageSearch()&&(0,h._P)("SearchByImageTooltip").isActive()?(0,w.jsx)(o.lq,{className:u.dismissibleTooltip,localStorageKey:"improved_sbi_tooltip",name:"SBITooltip",placement:"bottom",children:(0,w.jsxs)("div",{className:u.tooltipContentWrapper,children:[(0,w.jsx)("span",{className:u.newIcon,children:e("new_all_caps")}),(0,w.jsx)("span",{className:u.tooltipContent,children:e("sbi_upgraded")})]})}):null,(0,w.jsxs)("button",{className:u.container,title:e("search_by_image_or_video"),onClick:()=>p("camera_icon"),onDragEnter:()=>p("drag_and_drop"),"data-testid":"search-by-image-button",type:"button",children:[(0,w.jsx)(g,{className:u.icon}),(0,w.jsx)("span",{className:u.label,children:e("search_by_image_or_video")})]}),n&&(0,w.jsx)(He,{isOpen:n,handleCloseModal:()=>i(!1),assetType:a.assetType()})]})};var Ve=()=>{const e=(0,d.MO)();return e.creativeSearch()||e.filmSearch()&&!e.editorialSearch()?(0,w.jsx)(Fe,{}):null};const De=(0,s.createContext)(),Ue=({children:e,options:t})=>(0,w.jsx)(De.Provider,{value:{previousSearchPhrase:"",siteBundleId:705,siteLocale:"en-us",searchAssetType:"image",searchAssetFamily:"creative",maxAssetSize:8,...t},children:e});var We=a(5146);function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Ge.apply(this,arguments)}var Ke=({styles:e={},...t})=>r().createElement("svg",Ge({xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_3",x:"0",y:"0",width:"15.912",height:"14.593",xmlSpace:"preserve"},t),r().createElement("path",{className:e.st0||"st0",d:"M10.163 9.731a.748.748 0 01-.53-.22L8.137 8.019a.75.75 0 01-.22-.53V4.335a.75.75 0 011.5 0v2.84l1.275 1.275a.75.75 0 01-.53 1.28z"}),r().createElement("path",{className:e.st0||"st0",d:"M8.669.11c-3.722 0-6.794 2.825-7.19 6.442l-.062-.062A.75.75 0 00.356 7.55l1.296 1.3a.751.751 0 001.061 0l1.298-1.3a.75.75 0 000-1.06.743.743 0 00-1-.04c.431-2.738 2.8-4.84 5.658-4.84 3.162 0 5.735 2.573 5.735 5.735S11.83 13.08 8.669 13.08a5.693 5.693 0 01-4.591-2.297.75.75 0 10-1.2.9 7.18 7.18 0 005.79 2.897c3.99 0 7.236-3.246 7.236-7.235S12.658.11 8.669.11z"}));function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Ze.apply(this,arguments)}var Je=({styles:e={},...t})=>r().createElement("svg",Ze({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15.076 15.076"},t),r().createElement("path",{d:"M7.538 0a7.538 7.538 0 100 15.076A7.538 7.538 0 007.538 0zm3.271 10.043L6.89 8.625V3.544h1.3v4.169l3.063 1.108-.443 1.222z"})),qe={recentSearch:"txlLbOUJlZUlEHtH_U47",holder:"Kfe94SYg9LOydyKMIH0k",clearIcon:"iSS92A5Mnukm98a6ep_u",searchIcon:"oiubmD1MeCYsPjQKghIl",link:"taYLoVuwMUeAwFSJ52re",selected:"X9DZruAu5lojANPaxSiz"},Qe={recentSearch:"ZCM3VhhGuQ1yQkVbYka7",holder:"HU_Y1XzumcEK9BEO9uU0",clearIcon:"AmGc0HJRQYdum0bWZMJf",searchIcon:"Tf7Ce1iTUVHhZJbGLOj7",link:"uTbCgWViZ7VtPp9y59vU",selected:"w8q2mKWHsyUevZ2dRtD3"};var Xe=({search:e,selected:t=!1})=>{const a=(0,d.MO)(),r=(0,s.useContext)(De),n=(0,c.W4)(),o=n.isGetty()?Qe:qe,l=i().bind(o),h=(0,d.T_)();return(0,w.jsxs)("li",{className:l(o.recentSearch,{selected:t}),onClick:()=>{return t=e.phrase,r.sendTracking("SEARCH_CLICK"),h.sendItemSelectedSignal("recent_search",t),a.updateSearchBarSearchParameters({phrase:t}),a.updateSearchBar({inFocus:!1}),void a.setStatusToUpdated();var t},"data-testid":"search-item",children:[(0,w.jsxs)("div",{className:o.holder,"data-testid":"recent-search-select",children:[(0,w.jsx)("div",{className:o.searchIcon,children:n.isGetty()?(0,w.jsx)(Je,{}):(0,w.jsx)(Ke,{})}),(0,w.jsx)("a",{className:o.link,children:e.phrase})]}),(0,w.jsx)("a",{className:o.clearIcon,onClick:t=>((e,t)=>{e.stopPropagation(),r.sendTracking("SEARCH_REMOVE"),r.removeRecentSearch(t),r.setRecentSearches(r.recentSearches.filter((e=>e.phrase!==t)))})(t,e.phrase),"data-testid":"recent-search-remove",children:(0,w.jsx)(_,{})})]})},Ye={container:"BWAuIlHRJm6Xyev5ORpc",header:"WggdT3UNCNe6bLvtfhHP",recentSearchesTitle:"gbxsjCtXKIU7nBt2srEL",textDivider:"QsgLxKkgJq1ssHCposwy",clearAll:"Tt6aBoozRDk_xf91Q33A"},$e={container:"Mi4pUBItijZCD2aHV4Dg",header:"Uu2VmVj_uCLhTZ094E5K",recentSearchesTitle:"M1AmFjnLh7R_tC2flQJT",textDivider:"wWe3LKUo2Ct8GXEC0ed9",clearAll:"eXjLjoV63s42ZoZa4oIN"};var et=()=>{const e=(0,l.T)(),t=(0,d.MO)(),a=(0,s.useContext)(De),r=(0,c.W4)().isGetty()?$e:Ye,n=t.searchParameters.phrase||"";(0,s.useEffect)((()=>{const e=a.getRecentSearches();a.setRecentSearches(e)}),[t.inFocus]);const i=e=>a.keyIndex===e;return t.inFocus&&0===n.length&&a.recentSearches.length>0?(0,w.jsxs)("div",{className:r.container,children:[(0,w.jsxs)("header",{className:r.header,"data-testid":"searches-header",children:[(0,w.jsx)("div",{className:r.recentSearchesTitle,children:e("recent_searches_caps")}),(0,w.jsx)("div",{className:r.textDivider}),(0,w.jsx)("a",{className:r.clearAll,onClick:()=>(a.sendTracking("SEARCH_CLEAR_ALL"),a.clearRecentSearches(),void a.setRecentSearches([])),target:"_self","data-testid":"recent-searches-clear-all",children:e("clear_all")})]}),(0,w.jsx)("ul",{"data-testid":"searches-list",children:a.recentSearches.map(((e,t)=>(0,w.jsx)(Xe,{search:e,selected:i(t)},t)))})]}):null};function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},tt.apply(this,arguments)}var at=({styles:e={},...t})=>r().createElement("svg",tt({viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("path",{d:"M12.785.21L7.007 5.986 1.231.21A.71.71 0 00.227 1.212l5.78 5.78-5.78 5.78a.71.71 0 00.31 1.206.706.706 0 00.694-.203l5.778-5.78 5.78 5.78c.28.258.715.252.985-.019a.706.706 0 00.017-.985l-5.777-5.78 5.777-5.779A.71.71 0 0013.29 0a.71.71 0 00-.504.21z",fillRule:"evenodd"})),st={wrapper:"Zq3xeXMbIUzy4n6zglmV","is-single-row":"o07cfq2e3SCd6O5JQhyX",imageContainer:"BGws5dNwBYKKUYdZrm4s",clearIcon:"RTO73XInzV_8K3YqU8SD"},rt={wrapper:"JCi48ofanyGVf4ZqXrdc","is-single-row":"Qcca_nhG0bHBUkWs6eKw",imageContainer:"Dg275spHlMko6FWbaavm",clearIcon:"_ZZX35aefMd1dMSLd8_w"};var nt=({asset:e})=>{const t=(0,s.useContext)(De),a=(0,c.NW)(),r=(0,c.W4)().isGetty()?rt:st,n=(e=>{const t=e.width?e.width:0,a=e.height?e.height:0,s=Math.min(100/t,100/a);return{width:Math.floor(t*s),height:Math.floor(a*s)}})(e);return(0,w.jsxs)("div",{className:r.wrapper,"data-testid":"asset-item",style:{"--width":n.width,"--height":n.height},children:[(0,w.jsx)("a",{onClick:()=>{t.sendTracking("ASSET_CLICK")},href:a.assetPath(e.id),target:"_blank","data-testid":"recent-asset-select",rel:"noreferrer",children:(0,w.jsx)("div",{className:r.imageContainer,style:{backgroundImage:`url(${e.deliveryUrl})`}})}),(0,w.jsx)("div",{className:r.clearIcon,onClick:()=>(t.sendTracking("ASSET_REMOVE"),t.removeRecentlyViewedAsset(e.id),void t.setRecentAssets(t.recentAssets.filter((t=>t.id!==e.id)))),"data-testid":"recent-asset-remove",children:(0,w.jsx)(at,{})})]})},it={container:"bXxqj4ZZlY4GJzJJdwXr",header:"hPMwOnfmYd9wyFvVmtRd",title:"HhhnZbHdG6IgWZWRMOfk",textDivider:"P0kWih03hIifdgYRi7bz",clearAll:"B34PpqB7gaKdHDf5oTAk",viewAll:"KjWS_C9ke8deTw1zRnnN",assetContainer:"QvHrws1y3RKsHSCNueVy"},ct={container:"KAMIiGMkJHq6eyhwksHV",header:"AHr9x0NnTnikAZJCKws9",title:"HEL9l3TL6SWOWmAL4WnY",textDivider:"iinmwaJRTDFX0SF50Xpg",clearAll:"xKbGXTjVEXJZBpNbzfSx",viewAll:"qMJWK9tvbCbyLZkoAzNJ",assetContainer:"LPaarO0TtxdQOwQNo_d8"};var ot=()=>{const e=(0,c.W4)(),t=(0,l.T)(),a=(0,d.MO)(),r=(0,s.useContext)(De),n=e.isGetty()?ct:it,i=a.searchParameters.phrase||"";(0,s.useEffect)((()=>{const e=r.getRecentViewedAssets();r.setRecentAssets(e.slice(0,(null==r?void 0:r.maxAssetSize)||8))}),[a.inFocus]);return a.inFocus&&0===i.length&&r.recentAssets.length>0?(0,w.jsxs)("div",{className:n.container,children:[(0,w.jsxs)("header",{className:n.header,"data-testid":"assets-header",children:[(0,w.jsx)("div",{className:n.title,children:t("recently_viewed_caps")}),(0,w.jsx)("div",{className:n.textDivider}),(0,w.jsx)("a",{className:n.clearAll,onClick:()=>(r.sendTracking("ASSET_CLEAR_ALL"),r.clearRecentlyViewedAssets(),void r.setRecentAssets([])),"data-testid":"recent-assets-clear-all",children:t("clear_all")}),(0,w.jsxs)("a",{className:n.viewAll,href:"/search/recently-viewed",onClick:()=>{r.sendTracking("ASSET_VIEW_ALL")},"data-testid":"recent-assets-view-all",children:[t("view_all_caps")," ",">"]})]}),(0,w.jsx)("div",{className:n.assetContainer,"data-testid":"assets-list",children:r.recentAssets.map(((e,t)=>(0,w.jsx)(nt,{asset:e},t)))})]}):null},lt={item:"yzOxqIYsG_DE5XtF8eQw","is-hovered":"uffBrVoK2a_daNSPl1EA",searchIcon:"k4_UY9e5SnxpRshOiFuq",link:"HKOLaLXuXuY67jyVK9pb",clearIcon:"UkSfLbs1o1KlQlgKvRw6",selectedItem:"_l0ldJAiv3Zogde2zCaQ"},ht={item:"PxGH8COKzCPhdRcA8EXQ","is-hovered":"ZLBkTSjAMjv0_sQ1CuIM",searchIcon:"RZu5hm4M5XlSOmN8akK4",link:"jJ3DpcvE6faPBFjZmUxl",clearIcon:"P7evr39VQ7eJTv9o6vJA",selectedItem:"eGwghst9wMCVPCwF5CxR"};var dt=({suggestion:e,suggestionsPhrase:t,withRemove:a=!1,selected:r,index:n})=>{const i=(0,d.MO)(),o=(0,d.T_)(),l=(0,s.useContext)(De),u=(0,s.useRef)(),[m]=(0,d.XI)(u),p=(0,h._P)("SearchPreview"),g=(0,d.iP)(),v=(0,c.W4)(),y=v.isGetty()?ht:lt,f=v.isGetty()?Je:Ke,S=()=>{i.updateSearchBarSearchParameters({phrase:e}),i.updateSearchBar({inFocus:!1}),i.setStatusToUpdated(),l.sendTracking("SUGGESTION_CLICK"),o.sendItemSelectedSignal("suggestion",e)},b=()=>e.replace(t,`<span>${t}</span>`);(0,s.useEffect)((()=>{m&&p.isOfferActive("test")&&!i.options.performSearch&&"film"!==i.searchParameters.assettype&&g.windowWidth>=768&&v.preventGatewaySrp&&(l.setKeyIndex(n),i.updateSearchBarSearchParameters({phrase:e}))}),[m]);return(0,w.jsx)("li",{className:r?y.selectedItem:y.item,"data-testid":"suggestion",children:a?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:y.searchIcon,children:(0,w.jsx)(f,{})}),(0,w.jsx)("a",{ref:u,className:y.link,onClick:()=>S(),dangerouslySetInnerHTML:{__html:b()},"data-testid":"suggestion-item-selected"}),(0,w.jsx)("a",{className:y.clearIcon,onClick:()=>(l.sendTracking("SEARCH_REMOVE"),l.removeRecentSearch(e),void l.setRecentSearches(l.recentSearches.filter((t=>t.phrase!==e)))),"data-testid":"suggestion-item-with-remove",children:(0,w.jsx)(_,{})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:y.searchIcon}),(0,w.jsx)("a",{ref:u,className:y.link,onClick:()=>S(),dangerouslySetInnerHTML:{__html:b()},"data-testid":"suggestion-item"})]})})},ut={list:"NzOchlBnNTdnfuaZqTUT"},mt={list:"oGUicWKNY3gegVSxohDn"};var pt=()=>{const e=(0,d.MO)(),t=(0,s.useContext)(De),[a,r]=(0,s.useState)(""),n=(0,c.W4)().isGetty()?mt:ut,i=e.searchParameters.phrase||"";(0,s.useEffect)((()=>{!e.inFocus||""===i||-1!==t.keyIndex&&t.suggestions.includes(i)||(async()=>{try{const e=await t.getSuggestions(i);t.setSuggestions(e),r(i)}catch(e){t.setSuggestions([]),r(null)}finally{t.setKeyIndex(-1)}})()}),[e.searchParameters.phrase,e.inFocus]);const o=e=>t.keyIndex===e;return e.inFocus&&i.length>0&&t.suggestions.length>0?(0,w.jsx)("ul",{className:n.list,"data-testid":"suggestions-list",children:t.suggestions.map(((e,s)=>{let r=!1;return t.recentSearches.some((t=>e.toLowerCase()===t.phrase.toLowerCase()))&&(r=!0),(0,w.jsx)(dt,{suggestion:e,suggestionsPhrase:a,withRemove:r,selected:o(s),index:s},s)}))}):null},gt=a(90),vt="wvnR9vIUqrJGHC_aM0Bi";var _t=({asset:e,handleOnClick:t})=>{const a=(0,c.NW)(),s=(e=>{const t=e.maxDimensions.width?e.maxDimensions.width:0,a=e.maxDimensions.height?e.maxDimensions.height:0,s=Math.min(200/t,200/a);return{width:Math.floor(t*s),height:Math.floor(a*s)}})(e);return(0,w.jsx)("article",{className:vt,style:{"--width":s.width,"--height":s.height},onClick:t,"data-testid":"preview-asset",children:(0,w.jsx)("a",{href:a.prefixedPath(e.landingUrl),target:"_blank",rel:"noreferrer",children:(0,w.jsx)("img",{alt:e.altText,src:e.thumbUrl})})})},yt="WdgTV55E9DUPWmId60DV",ft="amIwmH3rfybSfOVKPrOM",wt="YyhlD9CZVXVLKOpjkVez",St="LH28NiTU7EgBz3htgntn",bt="H0gVpw3CkjBJGdhY_43j";var xt=()=>{const e=(0,gt.b)(),t=(0,d.T_)(),[a,r]=(0,s.useState)(),[n,i]=(0,s.useState)({}),[o,l]=(0,s.useState)(!1),h=(0,d.MO)(),u=(0,c.W4)(),m=(0,c.NW)(),p=h.searchParameters.phrase||"",g=e=>{const a={asset_ids:e.gallery.assets.map((e=>e.id)),phrase:p};t.sendSearchSignal(a,{request_id:e.request_id})};(0,d.bX)((()=>{if(!h.inFocus||""===p)return;const e=n[p];if(e)r(e),l(!1),g(e);else{(e=>{const t=We.Z.appendQueryParamsToString(e,{pagesize:12,responsefields:"gallery,totalNumberOfResults",servicecontext:"srp-preview"});return ge().get(t,{headers:{Accept:"application/json"}}).then((e=>{const{data:t,headers:a}=e;return{...t,request_id:a["x-request-id"]}}))})((()=>{const e={...h.queryParameters,phrase:p};return m.searchPath(e,u.nickname)})()).then((e=>{const t={[p]:e};i({...n,...t}),r(e),l(!1),g(e)}))}}),500,[p,h.inFocus]),(0,s.useEffect)((()=>{i({}),r(null)}),[h.status]),(0,s.useEffect)((()=>{l(!0)}),[p]);return h.inFocus&&a&&p&&!o?(0,w.jsxs)("div",{className:yt,"data-testid":"preview",children:[(0,w.jsxs)("div",{className:ft,children:[(0,w.jsx)("p",{className:wt,children:`Results preview for "${p}"`}),(0,w.jsx)("a",{className:bt,onClick:()=>(h.updateSearchBarSearchParameters({phrase:p}),h.updateSearchBar({inFocus:!1}),h.setStatusToUpdated(),void t.sendItemSelectedSignal("preview_view_all",null,{request_id:a.request_id})),"data-testid":"view-all-link",children:`View ${a.totalNumberOfResults.toLocaleString(e)} results >`})]}),(0,w.jsx)("div",{className:St,children:a.gallery.assets.map((e=>(0,w.jsx)(_t,{asset:e,handleOnClick:()=>{return s=e.id,void t.sendItemSelectedSignal("preview_thumb",s,{request_id:a.request_id});var s}},e.id)))})]}):null},jt="TgLeLet4holeWMSyqJWW";var Et=()=>{const e=(0,h._P)("SearchPreview"),t=(0,d.MO)(),a=(0,c.W4)(),s=(0,d.iP)();return e.isOfferActive("test")&&!t.options.performSearch&&"film"!==t.searchParameters.assettype&&s.windowWidth>=768&&a.preventGatewaySrp?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:jt,children:(0,w.jsx)(pt,{})}),(0,w.jsx)(xt,{})]}):(0,w.jsx)(pt,{})},kt={container:"_1PHDxTukVuWK3iUH3aQ",containerSearchbarRefresh:"ajTMkQotuM3pP1DAUSAQ"},Ot={container:"sw1BnkwMAXUdtnjjDQ8v",hidden:"ewtGjLFQ_zr4yB1KR6Zo"};var At=({options:e})=>{const t=(0,d.MO)(),[a,r]=(0,s.useState)([]),[n,o]=(0,s.useState)([]),[l,h]=(0,s.useState)([]),[u,m]=(0,s.useState)(-1),p=(0,c.W4)().isGetty()?Ot:kt,g=t.searchParameters.phrase||"",v=()=>0===g.length,_=0,y=l.length-1,f=e=>{const a=l[e];m(e),t.updateSearchBarSearchParameters({phrase:a})},S=e=>{if(t.inFocus&&g.length>0)switch(e.keyCode){case 40:(()=>{let e;e=[-1,y].includes(u)?_:u+1,f(e)})();break;case 38:(()=>{let e;e=[-1,_].includes(u)?y:u-1,f(e)})();break;case 27:m(-1),t.updateSearchBar({inFocus:!1})}};(0,s.useEffect)((()=>(window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)})),[S]),(0,s.useEffect)((()=>{h([])}),[t.status]),(0,s.useEffect)((()=>{!v()&&t.inFocus||m(-1)}),[g,t.inFocus]),(0,s.useEffect)((()=>{if(t.inFocus&&v()){const e=(0,$.A)({event_name:"search_assist_options_shown",search_selection:"recent_searches,recently_viewed",ui_element_location:"search_bar_autosuggest"}),t={name:"searchAssistShown",payload:{ui_element_location:"search_bar_autosuggest",search_assist_option_shown:"recent_searches,recently_viewed"}};(0,A.j)(t,e)}}),[t.inFocus]);const b={...e,keyIndex:u,setKeyIndex:m,recentSearches:a,setRecentSearches:r,recentAssets:n,setRecentAssets:o,suggestions:l,setSuggestions:h,sendTracking:e=>{let t,a;switch(e){case"SEARCH_CLEAR_ALL":t=(0,$.A)({event_name:"select_search_assist_option",ui_element_location:"search_bar_assist_window",search_selection:"recent_searches-remove_all"}),a={name:"searchAssistOptionSelect",payload:{ui_element_location:"search_bar_assist_window",search_assist_option_selected:"recent_searches-remove_all"}};break;case"SEARCH_CLICK":window.localStorage.setItem("tracking-data.search-tools","autosuggest-recent"),t=(0,$.A)({event_name:"select_search_assist_option",ui_element_location:"search_bar_assist_window",search_selection:"recent_searches-keyword"}),a={name:"searchAssistOptionSelect",payload:{ui_element_location:"search_bar_assist_window",search_assist_option_selected:"recent_searches-keyword"}};break;case"SEARCH_REMOVE":t=(0,$.A)({event_name:"select_search_assist_option",ui_element_location:"search_bar_assist_window",search_selection:"recent_searches-remove_keyword"}),a={name:"searchAssistOptionSelect",payload:{ui_element_location:"search_bar_assist_window",search_assist_option_selected:"recent_searches-remove_keyword"}};break;case"ASSET_VIEW_ALL":window.localStorage.setItem("search.recently_viewed_tracking_data","true"),t=(0,$.A)({event_name:"select_search_assist_option",ui_element_location:"search_bar_autosuggest",search_selection:"recently_viewed-view_all"}),a={name:"searchAssistOptionSelect",payload:{ui_element_location:"search_bar_autosuggest",search_assist_option_selected:"recently_viewed-view_all"}};break;case"ASSET_CLEAR_ALL":t=(0,$.A)({event_name:"select_search_assist_option",ui_element_location:"search_bar_assist_window",search_selection:"recently_viewed-remove_all"}),a={name:"searchAssistOptionSelect",payload:{ui_element_location:"search_bar_assist_window",search_assist_option_selected:"recently_viewed-remove_all"}};break;case"ASSET_CLICK":window.giLocalStorage.setItem("search.recently_viewed_tracking_data","true"),t=(0,$.A)({event_name:"select_search_assist_option",ui_element_location:"search_bar_autosuggest",search_selection:"recently_viewed-thumbnail"}),a={name:"searchAssistOptionSelect",payload:{ui_element_location:"search_bar_autosuggest",search_assist_option_selected:"recently_viewed-thumbnail"}};break;case"ASSET_REMOVE":t=(0,$.A)({event_name:"select_search_assist_option",ui_element_location:"search_bar_assist_window",search_selection:"recently_viewed-remove_asset"}),a={name:"searchAssistOptionSelect",payload:{ui_element_location:"search_bar_assist_window",search_assist_option_selected:"recently_viewed-remove_asset"}};break;case"SUGGESTION_CLICK":window.localStorage.setItem("tracking-data.search-tools","autosuggest"),t=(0,$.A)({event_name:"select_search_assist_option",ui_element_location:"search_bar_autosuggest",search_selection:"autosuggest-keyword"}),a={name:"searchAssistOptionSelect",payload:{ui_element_location:"search_bar_autosuggest",search_assist_option_selected:"autosuggest-keyword"}}}(0,A.j)(a,t)},getRecentSearches:()=>(()=>{const{localStorage:e}=window,t=JSON.parse(e.getItem("search.recentSearches"));if(t){const e=Object.keys(t).map((e=>t[e]));return e.sort(((e,t)=>t.date-e.date))}return[]})(),removeRecentSearch:e=>(e=>{const{localStorage:t}=window,a=JSON.parse(t.getItem("search.recentSearches"));delete a[e],t.setItem("search.recentSearches",JSON.stringify(a))})(e),clearRecentSearches:()=>(()=>{const{localStorage:e}=window;e.setItem("search.recentSearches",JSON.stringify({}))})(),getRecentViewedAssets:()=>(()=>{const{localStorage:e}=window;return JSON.parse(e.getItem("search.assetsViewedData"))||[]})(),clearRecentlyViewedAssets:()=>(()=>{const{localStorage:e}=window;e.setItem("search.assetsViewedData",JSON.stringify([]))})(),removeRecentlyViewedAsset:e=>(e=>{const{localStorage:t}=window,a=JSON.parse(t.getItem("search.assetsViewedData"));a.splice(a.findIndex((t=>t.id===e)),1),t.setItem("search.assetsViewedData",JSON.stringify(a))})(e),getSuggestions:t=>((e,t)=>{const a="image,film"===e.searchAssetType?"image":e.searchAssetType,s=`${e.endpoint}/${e.siteBundleId}/${e.siteLocale}/${a}/${t}/${e.searchAssetFamily}?usePopularity=true`;return ge().get(s).then((e=>e.data.CompletedKeywords.map((e=>e.DisplayText))))})(e,t)},x=t.isSearchBarRefreshOfferTestA(),j=(0,s.useMemo)((()=>i().bind(p.container)(p.container,{[p.containerSearchbarRefresh]:x,[p.hidden]:!t.inFocus})),[x,t.inFocus]),E=(0,s.useMemo)((()=>({marginLeft:x&&Number.isInteger(t.autoSuggestContainerWidth())?`${t.autoSuggestContainerWidth()}px`:0})),[x,t.autoSuggestContainerWidth()]);return(0,w.jsx)(Ue,{options:b,children:(0,w.jsxs)("div",{style:E,className:j,children:[(0,w.jsx)(et,{}),(0,w.jsx)(ot,{}),(0,w.jsx)(Et,{})]})})};function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Ct.apply(this,arguments)}var Pt=({styles:e={},...t})=>r().createElement("svg",Ct({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"134",height:"134",viewBox:"0 0 134 134",xmlSpace:"preserve"},t),r().createElement("circle",{cx:"67",cy:"67",r:"65",fill:"#d2d2d2"}),r().createElement("path",{d:"M67 2c35.841 0 65 29.159 65 65s-29.159 65-65 65S2 102.841 2 67 31.159 2 67 2m0-1C30.55 1 1 30.55 1 67s29.55 66 66 66 66-29.55 66-66S103.45 1 67 1z",fill:"#0c0d0d",opacity:".2"}),r().createElement("path",{className:e.st3||"st3",d:"M65.92 66.34h2.16c14.802.421 30.928 6.062 29.283 20.349l-1.618 13.322c-.844 6.814-5.208 7.827-13.972 7.865H52.23c-8.765-.038-13.13-1.05-13.974-7.865l-1.62-13.322C34.994 72.402 51.12 66.761 65.92 66.341zM49.432 43.934c0-9.819 7.989-17.81 17.807-17.81 9.822 0 17.81 7.991 17.81 17.81 0 9.819-7.988 17.807-17.81 17.807-9.818 0-17.807-7.988-17.807-17.807z"}));function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Mt.apply(this,arguments)}var Nt=({styles:e={},...t})=>r().createElement("svg",Mt({width:"8",height:"8",viewBox:"0 0 8 8"},t),r().createElement("path",{d:"M8 1.053L7.474.526 6.947 0 4 2.947 1.053 0 .526.526 0 1.053 2.947 4 0 6.947l.526.527.527.526L4 5.053 6.947 8l.527-.526L8 6.947 5.053 4z"}));function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},It.apply(this,arguments)}var Rt=({styles:e={},...t})=>r().createElement("svg",It({height:"19",viewBox:"0 0 17 13",xmlns:"http://www.w3.org/2000/svg",className:e["AssetTypeToggle-module__icon___KzWQf"]||"AssetTypeToggle-module__icon___KzWQf"},t),r().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.652.175a2 2 0 00-2 2v8.017a2 2 0 002 2h12a2 2 0 002-2V2.175a2 2 0 00-2-2h-12zm.545 10.298H14.2a.5.5 0 00.393-.81L11.409 5.62a.5.5 0 00-.778-.01l-2.725 3.3-2-1.922a.5.5 0 00-.719.026L2.825 9.64a.5.5 0 00.372.834z"})),Tt="SpPAIDRnEh4_YIkLIeDg",zt="ZoIkhdIMQApfq1KgnKUn",Lt="yCP0meEIb9fl7D45LuN6",Bt="KRXfVQlyhrHzAsxJD94t",Ht="ngG_82hEXBGeHbxh7PAs",Ft="w6Or1XYqVNUYJoqfApus",Vt="bBLoTnS_I_60C1s1J8AL";var Dt=()=>{const e=(0,c.W4)(),t=(0,l.T)(),a=(0,d.MO)(),s=(0,d.T_)(),r=e=>{a.updateSearchBarSearchParameters({[e]:null}),a.setStatusToUpdated(),s.sendItemSelectedSignal("clear_parameter_and_search",e)},n=()=>{if(a.similarContentSearch()&&a.similarAsset)return(0,w.jsxs)("button",{className:zt,onClick:()=>r("morelikethis"),children:[(0,w.jsx)("img",{className:Vt,src:a.similarAsset.thumbUrl}),(0,w.jsx)("span",{className:Bt,children:t("search_box.similar_content")}),(0,w.jsx)(Nt,{className:Lt})]})},i=()=>{if(a.portfolioSearch()&&a.contributor&&!e.isGetty())return(0,w.jsxs)("button",{className:zt,onClick:()=>r("contributor"),children:[a.contributor.pictureUrl?(0,w.jsx)("img",{className:Vt,src:a.contributor.pictureUrl}):null,a.contributor.pictureUrl?null:(0,w.jsx)(Pt,{className:Ft,viewBox:"0 0 134 134"}),(0,w.jsx)("span",{className:Bt,children:t("portfolio")}),(0,w.jsx)(Nt,{className:Lt})]})},o=()=>{const e=a.options.showSearchByImageThumb,s=a.searchParameters.imageurl;let n="";if(s){const e=s.replace(/-/g,"+").replace(/_/g,"/");n="undefined"!=typeof window?window.atob(e).toString():Buffer.from(e,"base64").toString()}if(a.searchByImageSearch())return(0,w.jsxs)("button",{className:zt,onClick:()=>r("searchbyimage"),children:[e?(0,w.jsx)("img",{className:Vt,src:n,onError:e=>e.target.style.display="none","data-testid":"search-by-image-image"}):(0,w.jsx)(Rt,{className:Ht}),(0,w.jsx)("span",{className:Bt,children:t("search_box.sbi-result-uploadedimage")}),(0,w.jsx)(Nt,{className:Lt})]})},h=()=>{if(a.searchByAssetSearch()){const e="image"===a.searchParameters.assettype?"search_box.similar_images":"search_box.similar_clips";return(0,w.jsxs)("button",{className:zt,onClick:()=>r("searchbyasset"),children:[(0,w.jsx)("img",{className:Vt,src:a.similarAsset.thumbUrl}),(0,w.jsx)("span",{className:Bt,children:t(e)}),(0,w.jsx)(Nt,{className:Lt})]})}};return a.similarContentSearch()||a.searchByImageSearch()||a.searchByAssetSearch()||a.portfolioSearch()?(0,w.jsxs)("div",{className:Tt,"data-testid":"container-context-buttons",children:[n(),o(),h(),i()]}):null}},9437:function(e,t,a){"use strict";a.d(t,{K:function(){return r},i:function(){return s}});const s="search-bar",r={SEARCH_BAR:"SearchBar",ISTOCK_COLLAPSIBLE_SEARCH_BAR:"IstockCollapsibleSearchBar"}},5699:function(e,t,a){"use strict";a.d(t,{bX:function(){return r},XI:function(){return n},pN:function(){return h},HW:function(){return g},MO:function(){return l},T_:function(){return y},iP:function(){return f}});var s=a(2747),r=(e,t,a)=>{(0,s.useEffect)((()=>{let a;return a=setTimeout(e,t),()=>clearTimeout(a)}),a)},n=(e,t=125)=>{const[a,r]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!1);let c;const o=()=>{c=setTimeout((()=>{r(!0),i(!0)}),t)},l=()=>{clearTimeout(c),r(!1)};return(0,s.useEffect)((()=>(e.current&&(e.current.addEventListener("mouseenter",o),e.current.addEventListener("mouseleave",l)),()=>{e.current&&(e.current.removeEventListener("mouseenter",o),e.current.removeEventListener("mouseleave",l))})),[]),[a,n]},i=a(4561);class c{constructor(e){Object.keys(e).forEach((t=>{this[t]=e[t]}))}}var o=class extends c{ready(){return"ready"===this.status}updated(){return"updated"===this.status}imageAndFilmSearch(){return"image,film"===this.searchParameters.assettype}imageSearch(){return"image"===this.searchParameters.assettype}allImageSearch(){return this.imageSearch()&&(!this.searchParameters.family||"creative,editorial"===this.searchParameters.family)}filmSearch(){return"film"===this.searchParameters.assettype}allFilmSearch(){return this.filmSearch()&&(!this.searchParameters.family||"creative,editorial"===this.searchParameters.family)}assetType(){return this.searchParameters.assettype}creativeSearch(){return"creative"===this.searchParameters.family}editorialSearch(){return"editorial"===this.searchParameters.family}similarContentSearch(){return!!this.searchParameters.morelikethis}searchByImageSearch(){return!!this.searchParameters.searchbyimage}searchByAssetSearch(){return!!this.searchParameters.searchbyasset}portfolioSearch(){return!!this.searchParameters.contributor}vectorSearch(){return"eps"===this.searchParameters.assetfiletype}photographySearch(){return"photography"===this.searchParameters.mediatype}illustrationSearch(){return"illustration"===this.searchParameters.mediatype}specialSearch(){return this.searchByImageSearch()||this.searchByAssetSearch()||this.portfolioSearch()||this.similarContentSearch()}hasAssetId(){return!!this.searchParameters.assetid}isDocked(){return this.options.peekyScroll&&"docked"===this.peekyScrollMode}autoSuggestContainerWidth(){return this.config.autoSuggestContainerWidth}isSearchbarRefreshEnabled(){return this.experiences.ReactSearchBarRefresh.isActive}isSearchBarRefreshOfferTestA(){return this.experiences.ReactSearchBarRefresh.isOfferActive}};var l=()=>{const e=(0,s.useContext)(i.OT);return(0,s.useMemo)((()=>new o(e)),[e])},h=e=>{const t=l(),a=(0,s.useRef)();a.current=t;const r=t=>{a.current.inFocus&&e.current&&!e.current.contains(t.target)&&a.current.updateSearchBar({inFocus:!1})};(0,s.useEffect)((()=>(document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)})),[])},d=a(4735),u=a(776),m=a(5146);var p=e=>{var t;const a=null==(t=window.localStorage)?void 0:t.getItem("search.lastSearchParameters");if(!a)return["image","creative"];const s=m.Z.decodeQueryParams(a);return[s.assettype||"image",e?"creative":s.family]},g=e=>{const t=(0,d.aF)(),a=(0,u.W4)();(0,s.useEffect)((()=>{if(!t.imageFilmGrid.inTest&&!t.imageFilmGrid.inExperience&&e.options.rememberLastSearchScope){const[t,s]=p("istock"===a.nickname),r="image,film"===t?"image":t;e.updateSearchBarSearchParameters({assettype:r,family:s})}}),[])},v=a(9468),_=a(6453);var y=()=>{const e=(0,v.T)(),t=(0,_.Z)({threshold:150});return{...e,sendItemSelectedSignal:(a,s,r={})=>{const n=t.isNone()?"search_bar_static_mode":"search_bar_scroll_mode";e.sendItemSelectedSignal(n,a,s,r)}}},f=()=>{const e=(0,s.useRef)({windowWidth:void 0,windowHeight:void 0});return(0,s.useEffect)((()=>{const t=()=>{e.current={windowWidth:window.innerWidth,windowHeight:window.innerHeight}};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)}),[]),e.current}},4561:function(e,t,a){"use strict";a.d(t,{Cl:function(){return E},OT:function(){return _}});var s=a(2747),r=a(4735);const n="SEARCH_BAR_UPDATE",i="SEARCH_BAR_UPDATE_SEARCH_PARAMETERS",c="SEARCH_BAR_UPDATE_PEEKY_MODE",o="SEARCH_BAR_UPDATED",l="SEARCH_BAR_READY",h="SET_AUTOSUGGEST_CONTAINER_WIDTH";var d=(e,t)=>{const a=((e,t)=>{switch(t.type){case n:return{...e,...t.config};case i:return{...e,searchParameters:{...e.searchParameters,...t.parameters}};case"SEARCH_BAR_UPDATE_OPTIONS":return{...e,options:{...e.options,...t.options}};case c:return{...e,peekyScrollMode:t.mode};case o:return{...e,status:"updated"};case l:return{...e,status:"ready"};case h:return{...e,config:{...e.config,autoSuggestContainerWidth:t.width}};default:return{...e}}})(e,t);return{...a,id:e.id+1}},u=a(5697),m=a.n(u);m().shape({config:m().shape({autoSuggestContainerWidth:m().number}),contributor:m().shape({pictureUrl:m().string}),options:m().shape({allowBlankSearches:m().bool,hideOnScroll:m().bool,mobileMediaFilter:m().bool,peekyScroll:m().bool,performSearch:m().bool,showSearchByImageThumb:m().bool}),queryParameters:m().shape({assettype:m().string,assetfiletype:m().string,contributor:m().string,family:m().string,imageurl:m().string,mediatype:m().string,morelikethis:m().string,phrase:m().string,searchbyimage:m().bool,searchbyasset:m().bool}),searchParameters:m().shape({assettype:m().string,assetfiletype:m().string,contributor:m().string,family:m().string,imageurl:m().string,mediatype:m().string,morelikethis:m().string,phrase:m().string,searchbyimage:m().bool,searchbyasset:m().bool}),similarAsset:m().shape({colorIndexes:m().arrayOf(m().string),thumbUrl:m().string}),totalResults:m().number,isHomepage:m().bool});var p={config:{autoSuggestContainerWidth:0},contributor:{},id:0,inFocus:!1,isHomepage:!1,options:{allowBlankSearches:!1,hideOnScroll:!0,mobileMediaFilter:!0,overlayOnFocus:!1,peekyScroll:!1,performSearch:!0,placeholder:null,rememberLastSearchScope:!1,showSearchByImageThumb:!1},peekyScrollMode:"none",queryParameters:{},searchParameters:{assettype:"image",assetfiletype:null,contributor:null,family:null,imageurl:null,mediatype:null,morelikethis:null,phrase:"",searchbyimage:null,searchbyasset:null},similarAsset:{},status:"ready",totalResults:null};var g=(e,t)=>({...p,...e,options:{...p.options,...e.options},searchParameters:{...p.searchParameters,...e.searchParameters},config:{...p.config,...e.config},...t.actionDispatchers}),v=a(5893);const _=(0,s.createContext)();var y=({children:e,config:t,...a})=>{const u=g(t,a),[m,p]=(0,s.useReducer)(d,u),{isOfferActive:y,isActive:f}=(0,r._P)("ReactSearchBarRefresh"),w=e=>{p({type:n,config:e})},S=e=>{p({type:i,parameters:e})},b=e=>{p({type:h,width:e})},x=()=>{p({type:o})},j=()=>{p({type:l})},E=e=>{p({type:c,mode:e})},k=()=>({updateSearchBar:w,updateSearchBarSearchParameters:S,setAutoSuggestContainerWidth:b,setStatusToUpdated:x,setStatusToReady:j,updateSearchBarPeekyMode:E,isHomepage:!!m.isHomepage,experiences:{ReactSearchBarRefresh:{isOfferActive:y("TestA")||!!m.isHomepage,isActive:f()}},...m}),O=k(),A=(0,s.useMemo)(k,[O.id]);return(0,v.jsx)(_.Provider,{value:A,children:e})},f=a(4688),w=a(1077),S=a(776),b=a(3049);const x=(0,f.Lr)({asyncImport:e=>a(6441)(`./${e.siteName}/${e.locale}`),chunkName:e=>`locales-${e.siteName}-${e.locale}`.replace(/[^a-zA-Z0-9_!§$()=\-^°]+/g,"-"),options:{}}),j=({children:e,config:t,experiences:a,locale:s,siteName:n,user:i})=>{const c="istock"===n?b.g4:b.DY;return(0,v.jsx)(r.dr,{user:i,experiences:a,children:(0,v.jsx)(y,{config:t,children:(0,v.jsx)(x,{siteName:n,locale:s,children:t=>(0,v.jsx)(w.Z,{translations:t,locale:s,children:(0,v.jsx)(S.qJ,{nickname:n,children:(0,v.jsx)(b.f6,{theme:c,children:e})})})})})})};j.defaultProps={config:{config:{},contributor:{},options:{},queryParameters:{},searchParameters:{assettype:"image",family:"creative",phrase:""},similarAsset:{},totalResults:null},experiences:{},user:{}};var E=j},4606:function(e,t){"use strict";t.Z=(e,t,a)=>{const s={options:{allowBlankSearches:!1},searchParameters:{...a.imageFilmGrid.defaultToImageFilm&&{assettype:"image,film"},family:"creative"}},r="getty"===t?{options:{allowBlankSearches:!0,overlayOnFocus:!0}}:s;return{...e,options:{...r.options,...e.options},searchParameters:{...r.searchParameters,...e.searchParameters}}}},3372:function(){},8053:function(){}}]);
//# sourceMappingURL=4245-86800041d35a06cb5bef.js.map